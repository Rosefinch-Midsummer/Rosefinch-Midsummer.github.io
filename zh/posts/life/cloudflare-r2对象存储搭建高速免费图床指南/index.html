<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Cloudflare-R2对象存储搭建高速免费图床指南 | 天漢帝國復興錄</title><meta name=keywords content="CloudFlare,图床,PicGo"><meta name=description content="Cloudflare R2对象存储搭建高速免费图床指南
前言
最近打算搭建一个图片画廊。之前使用 GitHub 作为图床，但速度较慢。
这次尝试用 Cloudflare R2 搭建图床，并通过 picgo-plugin-s3 插件实现图片上传。"><meta name=author content="RM"><link rel=canonical href=https://rosefinch-midsummer.github.io/zh/posts/life/cloudflare-r2%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E6%90%AD%E5%BB%BA%E9%AB%98%E9%80%9F%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A%E6%8C%87%E5%8D%97/><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"><link crossorigin=anonymous href=/assets/css/stylesheet.2211ca3164be7830024f6aad2b3a2e520843a64f8f048445c3401c1249aa051d.css integrity="sha256-IhHKMWS+eDACT2qtKzouUghDpk+PBIRFw0AcEkmqBR0=" rel="preload stylesheet" as=style><link rel=icon href=https://rosefinch-midsummer.github.io/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rosefinch-midsummer.github.io/img/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rosefinch-midsummer.github.io/img/favicon-32x32.png><link rel=apple-touch-icon href=https://rosefinch-midsummer.github.io/img/apple-touch-icon.png><link rel=mask-icon href=https://rosefinch-midsummer.github.io/img/android-chrome-192x192.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://rosefinch-midsummer.github.io/zh/posts/life/cloudflare-r2%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E6%90%AD%E5%BB%BA%E9%AB%98%E9%80%9F%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A%E6%8C%87%E5%8D%97/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta property="og:url" content="https://rosefinch-midsummer.github.io/zh/posts/life/cloudflare-r2%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E6%90%AD%E5%BB%BA%E9%AB%98%E9%80%9F%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A%E6%8C%87%E5%8D%97/"><meta property="og:site_name" content="天漢帝國復興錄"><meta property="og:title" content="Cloudflare-R2对象存储搭建高速免费图床指南"><meta property="og:description" content="Cloudflare R2对象存储搭建高速免费图床指南 前言 最近打算搭建一个图片画廊。之前使用 GitHub 作为图床，但速度较慢。
这次尝试用 Cloudflare R2 搭建图床，并通过 picgo-plugin-s3 插件实现图片上传。"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-05-16T18:34:25+08:00"><meta property="article:modified_time" content="2025-05-16T22:54:22+08:00"><meta property="article:tag" content="CloudFlare"><meta property="article:tag" content="图床"><meta property="article:tag" content="PicGo"><meta name=twitter:card content="summary"><meta name=twitter:title content="Cloudflare-R2对象存储搭建高速免费图床指南"><meta name=twitter:description content="Cloudflare R2对象存储搭建高速免费图床指南
前言
最近打算搭建一个图片画廊。之前使用 GitHub 作为图床，但速度较慢。
这次尝试用 Cloudflare R2 搭建图床，并通过 picgo-plugin-s3 插件实现图片上传。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"📚文章","item":"https://rosefinch-midsummer.github.io/zh/posts/"},{"@type":"ListItem","position":2,"name":"🏖生活","item":"https://rosefinch-midsummer.github.io/zh/posts/life/"},{"@type":"ListItem","position":3,"name":"Cloudflare-R2对象存储搭建高速免费图床指南","item":"https://rosefinch-midsummer.github.io/zh/posts/life/cloudflare-r2%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E6%90%AD%E5%BB%BA%E9%AB%98%E9%80%9F%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A%E6%8C%87%E5%8D%97/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Cloudflare-R2对象存储搭建高速免费图床指南","name":"Cloudflare-R2对象存储搭建高速免费图床指南","description":"Cloudflare R2对象存储搭建高速免费图床指南 前言 最近打算搭建一个图片画廊。之前使用 GitHub 作为图床，但速度较慢。\n这次尝试用 Cloudflare R2 搭建图床，并通过 picgo-plugin-s3 插件实现图片上传。\n","keywords":["CloudFlare","图床","PicGo"],"articleBody":"Cloudflare R2对象存储搭建高速免费图床指南 前言 最近打算搭建一个图片画廊。之前使用 GitHub 作为图床，但速度较慢。\n这次尝试用 Cloudflare R2 搭建图床，并通过 picgo-plugin-s3 插件实现图片上传。\n需要注意的是，PicGo 插件有时会安装失败，甚至导致搜索功能无法使用，这时可以尝试手动安装插件。\n方案优势 搭建好图床后，可以直接在博客或个人网站中使用。该方案具有以下明显优势：\n免费：Cloudflare R2 提供了大量免费额度，满足日常使用需求。 稳定可靠：无需担心服务商跑路或断服问题。 无网络限制：生成的图片链接在国内外网络均可正常访问。 1. Cloudflare R2 价格解析 官方价格说明：Cloudflare R2 定价 费用计算器：R2 Calculator 以下是 Cloudflare R2 免费额度及超额计费情况：\n类型 免费额度 超额收费 存储 每月 10 GB $0.015 / GB / 月 A 类操作 每月 100 万次请求 $4.5 / 100 万次请求 B 类操作 每月 1000 万次请求 $0.36 / 100 万次请求 出口流量 全球免费① 不收费 注解①： 以下方式访问 R2 不产生出口流量费用：\n通过 Workers API 访问 通过兼容 S3 的 API 访问 通过 r2.dev 子域名访问 出口流量指的是数据从 R2 存储桶传输至公网的流量，通常云服务商对此进行收费。Cloudflare R2 的特色在于，符合上述访问模式时，出口流量免费。\n传统云存储（如 AWS S3）在用户读取资源时会产生流量费用； Cloudflare R2 利用其全球网络，实现了内部路由，避免用户流量费用，极大降低成本。 什么是图床？ 图床是存储图片的专用空间。你将博客或网站中使用的图片上传至图床后，图床会为每张图片生成一个可访问的链接，之后可以通过这些链接在博客或网站中加载对应图片。\n常见图床方案对比 方案 优点 缺点 适用场景 公共图床 上手简单、免费，支持外链 流量有限，有跑路风险 轻量图片发布，如文章配图 云存储服务 稳定可靠，CDN加速访问 可能收费，配置较复杂 对性能和速度有要求的场景 GitHub仓库 免费，支持版本管理 国内访问慢，新手不易上手 技术博客、技术文档 自建图床 完全掌控，数据长期保存 需要服务器及技术支持 长期内容创建或稳定性高需求 直接嵌入Markdown 图片伴随文档，无需外链 文件变大，加载慢，不适合多图 少量图片的Markdown文档 目标平台存储 方便快捷，平台自动处理图片 不跨平台，迁移需重新上传 特定平台（公众号、知乎等） 需要提前准备的事项 使用 Cloudflare R2 和 PicGo 搭建免费图床，需提前准备：\n一个提前注册好的 Cloudflare 账号，并添加一个付费计划 不必担心扣费，可以选择0元免费计划 一个提前注册好的域名，可以选便宜一些的 域名后缀无所谓，只是作为图片网址使用 如果不想花一年十几块的域名费，也可以去网上找免费的域名使用 搭建 R2 图床流程 本文演示如何使用 Cloudflare R2 和 PicGo 搭建免费图床。\n1. 配置 Cloudflare R2 登录 Cloudflare，左侧菜单选择「R2 对象存储」。该服务提供每月 10GB 免费存储空间，个人使用已足够。超出部分按约 0.1 元/GB 计费，价格非常优惠。\n此外，每月允许 100 万次写入和 1000 万次读取操作，满足个人网站需求。\n点击“将 R2 订阅添加到我的账户”，进入存储桶创建页面。自定义存储桶名称，选择靠近主要访问用户的地区，例如针对亚洲可选亚太区，其他保持默认，点击创建完成。\n默认情况下，存储桶无法通过公共 URL 访问。进入对应存储桶的设置，向下找到“R2.dev 子域配置”，点击“允许访问”，输入 allow 确认。生效后即可公网访问。\n回到存储桶对象页，拖入图片上传。\n上传后点击图片，即可获得 Cloudflare R2 生成的图片访问链接。\n将链接复制至浏览器打开，验证图片是否正常显示。Cloudflare R2 支持国内外网络访问。\n2. 域名托管至 Cloudflare 为了使用自定义域名替换 R2 默认域名，需先将域名托管到 Cloudflare。在左侧点击「网站」，输入自己的域名。\n点击“继续”，选择最下方免费计划，再次点击“继续”，弹窗处确认激活。\n向下滑动到“更新名称服务器”，复制生成的两个名称服务器地址。\n以阿里云为例，登录控制台，进入域名管理，找到 DNS 设置，修改名称服务器为 Cloudflare 提供的两个地址。\n保存配置后，回到 Cloudflare，等待域名状态变为“活动”，表明域名托管成功。\n3. Cloudflare R2 自定义域名 域名托管至 Cloudflare 后，进入所创建的 blog 存储桶，点击右侧“设置”，向下找到“自定义域”，点击“连接域”，输入自定义域名，稍等刷新即可生效。\n打开 blog 存储桶中的图片，会发现除了原始网址外，还生成了一个自定义域名的网址，两者均可访问图片。\n4. PicGo 安装配置 图床搭建完成后，推荐使用开源工具 PicGo 上传图片并获取链接。 点击下载\n打开 PicGo，先安装 S3 插件：在插件设置中搜索“S3”，选择安装 s3-lls 插件。若安装失败，重启 PicGo 后重试。\n安装后，进入左侧“图床设置”，选择 Amazon S3 编辑默认配置项。\n名称：自定义填写即可。\n应用秘钥 ID 和应用秘钥：登录 Cloudflare，进入 R2 对象存储“概述”页，点击“API”→“管理API令牌”→“创建API令牌”，赋予读写对象权限，生成后填写到 PicGo 中。\n桶名称填写创建的存储桶名，如 blog。\n文件路径填写 PicGo/，上传的文件会统一存放此文件夹下。\n权限保持默认。\n地区填写 auto，或存储桶创建时选择的地区。\n自定义节点：同样在 Cloudflare R2“概述”页点击“API”，复制“通过 API 访问 R2 存储”的 HTTPS 地址，粘贴到 PicGo。\n自定义域名填写托管在 Cloudflare 的域名即可。\nPicGo 插件手动安装教程 插件picgo-plugin-s3 picgo-plugin-s3 是 PicGo 的 Amazon S3 上传插件。\n支持 Amazon S3 及兼容 S3 API 的云存储服务，如 Backblaze B2 支持 PicGo GUI 版本 支持 MinIO 服务 安装方式：\n在 PicGo GUI 中，直接搜索 “S3” 即可安装插件。\n使用 PicGo Core 版，则在命令行执行：\n1 picgo add s3 即可完成安装。\n手动安装插件picgo-plugin-s3 某些情况下，PicGo 插件安装会失败，或者搜索界面无法使用，此时可以选择手动安装插件。\n1. 确认你需要安装的插件 由于插件搜索或自动安装有时会失效，首先需要确认插件的准确名称。\n打开插件仓库：Plugin for PicGo，找到你需要的插件。\n例如本文以 S3 插件为例，其正式名称为：picgo-plugin-s3。\n2. 环境准备 PicGo-core 依赖 Node.js 环境，因此需要在系统中预先安装 Node.js。\n插件无法正常安装常因环境问题\nNode.js 安装方法不再赘述，可自行搜索安装教程，例如搜索关键词：“nodejs install for windows”。\n确认 Node.js 安装成功，可在命令行执行以下命令检查版本：\n1 2 node -v npm -v 3. 安装插件 以 Windows 系统为例，PicGo 的配置文件夹一般位于：\n1 C:\\Users\\{用户名}\\AppData\\Roaming\\picgo 注意\nAppData\\Roaming 文件夹用于存放应用程序的配置、插件、设置等，非专业用户建议谨慎操作，避免破坏程序正常运行。\n在该目录下打开终端（命令行窗口），执行以下命令安装插件：\n1 npm install picgo-plugin-s3 安装完成后，重启 PicGo 即可使用该插件。\n参考资料 Cloudflare R2对象存储搭建高速免费图床完全指南\n个人图床最佳方案：Cloudflare R2+PicGo\n基于CF R2存储的免费图床\npicgo-plugin-s3\nPicGo手动安装插件\n","wordCount":"2698","inLanguage":"zh","datePublished":"2025-05-16T18:34:25+08:00","dateModified":"2025-05-16T22:54:22+08:00","author":{"@type":"Person","name":"RM"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rosefinch-midsummer.github.io/zh/posts/life/cloudflare-r2%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E6%90%AD%E5%BB%BA%E9%AB%98%E9%80%9F%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A%E6%8C%87%E5%8D%97/"},"publisher":{"@type":"Organization","name":"天漢帝國復興錄","logo":{"@type":"ImageObject","url":"https://rosefinch-midsummer.github.io/img/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://rosefinch-midsummer.github.io/zh/ accesskey=h title="天漢帝國復興錄 (Alt + H)">天漢帝國復興錄</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://rosefinch-midsummer.github.io/zh/ title=🏠主頁><span>🏠主頁</span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/posts title=📚文章><span>📚文章</span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/search title="🔍搜索 (Alt + /)" accesskey=/><span>🔍搜索</span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/archives title=⏱時間軸><span>⏱時間軸</span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/categories title=🧩分類><span>🧩分類</span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/tags title=🔖標簽><span>🔖標簽</span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/about title=🙋🏻‍♂️關于><span>🙋🏻‍♂️關于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://rosefinch-midsummer.github.io/zh/>首頁</a>&nbsp;»&nbsp;<a href=https://rosefinch-midsummer.github.io/zh/posts/>📚文章</a>&nbsp;»&nbsp;<a href=https://rosefinch-midsummer.github.io/zh/posts/life/>🏖生活</a></div><h1 class=post-title>Cloudflare-R2对象存储搭建高速免费图床指南</h1><div class=post-meta>创建: 2025-05-16 |
更新: 2025-05-16 |
字数: 2698字 |
时长: 6分钟 |
RM</div><div class=meta-item>&nbsp·&nbsp
<span id=busuanzi_container_page_pv>本文阅读量<span id=busuanzi_value_page_pv></span>次</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目錄</span></summary><div class=inner><ul><li><a href=#cloudflare-r2%e5%af%b9%e8%b1%a1%e5%ad%98%e5%82%a8%e6%90%ad%e5%bb%ba%e9%ab%98%e9%80%9f%e5%85%8d%e8%b4%b9%e5%9b%be%e5%ba%8a%e6%8c%87%e5%8d%97 aria-label="Cloudflare R2对象存储搭建高速免费图床指南">Cloudflare R2对象存储搭建高速免费图床指南</a></li><li><a href=#%e5%89%8d%e8%a8%80 aria-label=前言>前言</a></li><li><a href=#%e6%96%b9%e6%a1%88%e4%bc%98%e5%8a%bf aria-label=方案优势>方案优势</a><ul><li><a href=#1-cloudflare-r2-%e4%bb%b7%e6%a0%bc%e8%a7%a3%e6%9e%90 aria-label="1. Cloudflare R2 价格解析">1. Cloudflare R2 价格解析</a></li></ul></li><li><a href=#%e4%bb%80%e4%b9%88%e6%98%af%e5%9b%be%e5%ba%8a aria-label=什么是图床？>什么是图床？</a><ul><li><a href=#%e5%b8%b8%e8%a7%81%e5%9b%be%e5%ba%8a%e6%96%b9%e6%a1%88%e5%af%b9%e6%af%94 aria-label=常见图床方案对比>常见图床方案对比</a></li></ul></li><li><a href=#%e9%9c%80%e8%a6%81%e6%8f%90%e5%89%8d%e5%87%86%e5%a4%87%e7%9a%84%e4%ba%8b%e9%a1%b9 aria-label=需要提前准备的事项>需要提前准备的事项</a></li><li><a href=#%e6%90%ad%e5%bb%ba-r2-%e5%9b%be%e5%ba%8a%e6%b5%81%e7%a8%8b aria-label="搭建 R2 图床流程">搭建 R2 图床流程</a><ul><li><a href=#1-%e9%85%8d%e7%bd%ae-cloudflare-r2 aria-label="1. 配置 Cloudflare R2">1. 配置 Cloudflare R2</a></li><li><a href=#2-%e5%9f%9f%e5%90%8d%e6%89%98%e7%ae%a1%e8%87%b3-cloudflare aria-label="2. 域名托管至 Cloudflare">2. 域名托管至 Cloudflare</a></li><li><a href=#3-cloudflare-r2-%e8%87%aa%e5%ae%9a%e4%b9%89%e5%9f%9f%e5%90%8d aria-label="3. Cloudflare R2 自定义域名">3. Cloudflare R2 自定义域名</a></li><li><a href=#4-picgo-%e5%ae%89%e8%a3%85%e9%85%8d%e7%bd%ae aria-label="4. PicGo 安装配置">4. PicGo 安装配置</a></li></ul></li><li><a href=#picgo-%e6%8f%92%e4%bb%b6%e6%89%8b%e5%8a%a8%e5%ae%89%e8%a3%85%e6%95%99%e7%a8%8b aria-label="PicGo 插件手动安装教程">PicGo 插件手动安装教程</a><ul><li><a href=#%e6%8f%92%e4%bb%b6picgo-plugin-s3 aria-label=插件picgo-plugin-s3>插件picgo-plugin-s3</a></li><li><a href=#%e6%89%8b%e5%8a%a8%e5%ae%89%e8%a3%85%e6%8f%92%e4%bb%b6picgo-plugin-s3 aria-label=手动安装插件picgo-plugin-s3>手动安装插件picgo-plugin-s3</a><ul><li><a href=#1-%e7%a1%ae%e8%ae%a4%e4%bd%a0%e9%9c%80%e8%a6%81%e5%ae%89%e8%a3%85%e7%9a%84%e6%8f%92%e4%bb%b6 aria-label="1. 确认你需要安装的插件">1. 确认你需要安装的插件</a></li><li><a href=#2-%e7%8e%af%e5%a2%83%e5%87%86%e5%a4%87 aria-label="2. 环境准备">2. 环境准备</a></li><li><a href=#3-%e5%ae%89%e8%a3%85%e6%8f%92%e4%bb%b6 aria-label="3. 安装插件">3. 安装插件</a></li></ul></li></ul></li><li><a href=#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99 aria-label=参考资料>参考资料</a></li></ul></div></details></div><div class=post-content><h1 id=cloudflare-r2对象存储搭建高速免费图床指南>Cloudflare R2对象存储搭建高速免费图床指南<a hidden class=anchor aria-hidden=true href=#cloudflare-r2对象存储搭建高速免费图床指南>#</a></h1><h1 id=前言>前言<a hidden class=anchor aria-hidden=true href=#前言>#</a></h1><p>最近打算搭建一个图片画廊。之前使用 GitHub 作为图床，但速度较慢。</p><p>这次尝试用 Cloudflare R2 搭建图床，并通过 <code>picgo-plugin-s3</code> 插件实现图片上传。</p><p>需要注意的是，PicGo 插件有时会安装失败，甚至导致搜索功能无法使用，这时可以尝试手动安装插件。</p><hr><h1 id=方案优势>方案优势<a hidden class=anchor aria-hidden=true href=#方案优势>#</a></h1><p>搭建好图床后，可以直接在博客或个人网站中使用。该方案具有以下明显优势：</p><ol><li><strong>免费</strong>：Cloudflare R2 提供了大量免费额度，满足日常使用需求。</li><li><strong>稳定可靠</strong>：无需担心服务商跑路或断服问题。</li><li><strong>无网络限制</strong>：生成的图片链接在国内外网络均可正常访问。</li></ol><hr><h2 id=1-cloudflare-r2-价格解析>1. Cloudflare R2 价格解析<a hidden class=anchor aria-hidden=true href=#1-cloudflare-r2-价格解析>#</a></h2><ul><li>官方价格说明：<a href=https://developers.cloudflare.com/r2/pricing/#free-tier>Cloudflare R2 定价</a></li><li>费用计算器：<a href=https://r2-calculator.cloudflare.com/>R2 Calculator</a></li></ul><p>以下是 Cloudflare R2 免费额度及超额计费情况：</p><table><thead><tr><th>类型</th><th>免费额度</th><th>超额收费</th></tr></thead><tbody><tr><td>存储</td><td>每月 10 GB</td><td>$0.015 / GB / 月</td></tr><tr><td>A 类操作</td><td>每月 100 万次请求</td><td>$4.5 / 100 万次请求</td></tr><tr><td>B 类操作</td><td>每月 1000 万次请求</td><td>$0.36 / 100 万次请求</td></tr><tr><td>出口流量</td><td>全球免费①</td><td>不收费</td></tr></tbody></table><blockquote><p><strong>注解①：</strong> 以下方式访问 R2 不产生出口流量费用：</p><ul><li>通过 <a href=https://developers.cloudflare.com/workers/>Workers API</a> 访问</li><li>通过兼容 S3 的 API 访问</li><li>通过 <code>r2.dev</code> 子域名访问</li></ul></blockquote><p>出口流量指的是数据从 R2 存储桶传输至公网的流量，通常云服务商对此进行收费。Cloudflare R2 的特色在于，符合上述访问模式时，出口流量免费。</p><ul><li>传统云存储（如 AWS S3）在用户读取资源时会产生流量费用；</li><li>Cloudflare R2 利用其全球网络，实现了内部路由，避免用户流量费用，极大降低成本。</li></ul><hr><h1 id=什么是图床>什么是图床？<a hidden class=anchor aria-hidden=true href=#什么是图床>#</a></h1><p>图床是存储图片的专用空间。你将博客或网站中使用的图片上传至图床后，图床会为每张图片生成一个可访问的链接，之后可以通过这些链接在博客或网站中加载对应图片。</p><hr><h2 id=常见图床方案对比>常见图床方案对比<a hidden class=anchor aria-hidden=true href=#常见图床方案对比>#</a></h2><table><thead><tr><th>方案</th><th>优点</th><th>缺点</th><th>适用场景</th></tr></thead><tbody><tr><td>公共图床</td><td>上手简单、免费，支持外链</td><td>流量有限，有跑路风险</td><td>轻量图片发布，如文章配图</td></tr><tr><td>云存储服务</td><td>稳定可靠，CDN加速访问</td><td>可能收费，配置较复杂</td><td>对性能和速度有要求的场景</td></tr><tr><td>GitHub仓库</td><td>免费，支持版本管理</td><td>国内访问慢，新手不易上手</td><td>技术博客、技术文档</td></tr><tr><td>自建图床</td><td>完全掌控，数据长期保存</td><td>需要服务器及技术支持</td><td>长期内容创建或稳定性高需求</td></tr><tr><td>直接嵌入Markdown</td><td>图片伴随文档，无需外链</td><td>文件变大，加载慢，不适合多图</td><td>少量图片的Markdown文档</td></tr><tr><td>目标平台存储</td><td>方便快捷，平台自动处理图片</td><td>不跨平台，迁移需重新上传</td><td>特定平台（公众号、知乎等）</td></tr></tbody></table><hr><h1 id=需要提前准备的事项>需要提前准备的事项<a hidden class=anchor aria-hidden=true href=#需要提前准备的事项>#</a></h1><p>使用 Cloudflare R2 和 PicGo 搭建免费图床，需提前准备：</p><ol><li>一个提前注册好的 Cloudflare 账号，并添加一个付费计划<ul><li>不必担心扣费，可以选择0元免费计划</li></ul></li><li>一个提前注册好的域名，可以选便宜一些的<ul><li>域名后缀无所谓，只是作为图片网址使用</li><li>如果不想花一年十几块的域名费，也可以去网上找免费的域名使用</li></ul></li></ol><h1 id=搭建-r2-图床流程>搭建 R2 图床流程<a hidden class=anchor aria-hidden=true href=#搭建-r2-图床流程>#</a></h1><p>本文演示如何使用 Cloudflare R2 和 PicGo 搭建免费图床。</p><h2 id=1-配置-cloudflare-r2>1. 配置 Cloudflare R2<a hidden class=anchor aria-hidden=true href=#1-配置-cloudflare-r2>#</a></h2><p>登录 Cloudflare，左侧菜单选择「R2 对象存储」。该服务提供每月 10GB 免费存储空间，个人使用已足够。超出部分按约 0.1 元/GB 计费，价格非常优惠。</p><p>此外，每月允许 100 万次写入和 1000 万次读取操作，满足个人网站需求。</p><p><img alt="Cloudflare R2" loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/R2%E4%BB%8B%E7%BB%8D.png></p><p>点击“将 R2 订阅添加到我的账户”，进入存储桶创建页面。自定义存储桶名称，选择靠近主要访问用户的地区，例如针对亚洲可选亚太区，其他保持默认，点击创建完成。</p><p><img alt=存储桶 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E6%A1%B6.png></p><p>默认情况下，存储桶无法通过公共 URL 访问。进入对应存储桶的设置，向下找到“R2.dev 子域配置”，点击“允许访问”，输入 <code>allow</code> 确认。生效后即可公网访问。</p><p><img alt=上传文件 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/%E5%AD%98%E5%82%A8%E6%A1%B6%E5%88%9B%E5%BB%BA%E5%AE%8C%E6%88%90.png></p><p>回到存储桶对象页，拖入图片上传。</p><p><img alt=上传成功 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87.png></p><p>上传后点击图片，即可获得 Cloudflare R2 生成的图片访问链接。</p><p><img alt=图片网址 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/%E5%9B%BE%E7%89%87%E7%BD%91%E5%9D%80.png></p><p>将链接复制至浏览器打开，验证图片是否正常显示。Cloudflare R2 支持国内外网络访问。</p><h2 id=2-域名托管至-cloudflare>2. 域名托管至 Cloudflare<a hidden class=anchor aria-hidden=true href=#2-域名托管至-cloudflare>#</a></h2><p>为了使用自定义域名替换 R2 默认域名，需先将域名托管到 Cloudflare。在左侧点击「网站」，输入自己的域名。</p><p><img alt=添加域名 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/%E5%A1%AB%E5%86%99%E5%9F%9F%E5%90%8D.png></p><p>点击“继续”，选择最下方免费计划，再次点击“继续”，弹窗处确认激活。</p><p><img alt=选择免费计划 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/%E5%85%8D%E8%B4%B9%E8%AE%A1%E5%88%92.png></p><p>向下滑动到“更新名称服务器”，复制生成的两个名称服务器地址。</p><p><img alt=生成的网址 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/2%E4%B8%AA%E7%BD%91%E5%9D%80.png></p><p>以阿里云为例，登录控制台，进入域名管理，找到 DNS 设置，修改名称服务器为 Cloudflare 提供的两个地址。</p><p><img alt=配置2个网址 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/%E9%85%8D%E7%BD%AE%E7%BD%91%E5%9D%80.png></p><p>保存配置后，回到 Cloudflare，等待域名状态变为“活动”，表明域名托管成功。</p><p><img alt=域名托管成功 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/%E6%89%98%E7%AE%A1%E6%88%90%E5%8A%9F.png></p><h2 id=3-cloudflare-r2-自定义域名>3. Cloudflare R2 自定义域名<a hidden class=anchor aria-hidden=true href=#3-cloudflare-r2-自定义域名>#</a></h2><p>域名托管至 Cloudflare 后，进入所创建的 blog 存储桶，点击右侧“设置”，向下找到“自定义域”，点击“连接域”，输入自定义域名，稍等刷新即可生效。</p><p><img alt=实现自定义域 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F.png></p><p>打开 blog 存储桶中的图片，会发现除了原始网址外，还生成了一个自定义域名的网址，两者均可访问图片。</p><p><img alt=新的图片网址 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/%E6%96%B0%E7%BD%91%E5%9D%80.png></p><h2 id=4-picgo-安装配置>4. PicGo 安装配置<a hidden class=anchor aria-hidden=true href=#4-picgo-安装配置>#</a></h2><p>图床搭建完成后，推荐使用开源工具 PicGo 上传图片并获取链接。 <a href=https://picgo.github.io/PicGo-Doc/zh/guide/#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85>点击下载</a></p><p>打开 PicGo，先安装 S3 插件：在插件设置中搜索“S3”，选择安装 s3-lls 插件。若安装失败，重启 PicGo 后重试。</p><p><img alt=安装S3插件 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/S3.png></p><p>安装后，进入左侧“图床设置”，选择 Amazon S3 编辑默认配置项。</p><p><img alt=S3参数配置 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/picgo%20-%20%E9%85%8D%E7%BD%AE.png></p><ul><li><p>名称：自定义填写即可。</p></li><li><p>应用秘钥 ID 和应用秘钥：登录 Cloudflare，进入 R2 对象存储“概述”页，点击“API”→“管理API令牌”→“创建API令牌”，赋予读写对象权限，生成后填写到 PicGo 中。<br><img alt=生成ID和秘钥 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/ID%E7%A7%98%E9%92%A5.png></p></li><li><p>桶名称填写创建的存储桶名，如 blog。</p></li><li><p>文件路径填写 <code>PicGo/</code>，上传的文件会统一存放此文件夹下。</p></li><li><p>权限保持默认。</p></li><li><p>地区填写 <code>auto</code>，或存储桶创建时选择的地区。</p></li><li><p>自定义节点：同样在 Cloudflare R2“概述”页点击“API”，复制“通过 API 访问 R2 存储”的 HTTPS 地址，粘贴到 PicGo。<br><img alt=获取子域网址 loading=lazy src=https://tyxiaoming.top/%E5%9B%BE%E5%BA%8A/API%E7%BD%91%E5%9D%80.png></p></li><li><p>自定义域名填写托管在 Cloudflare 的域名即可。</p></li></ul><h1 id=picgo-插件手动安装教程>PicGo 插件手动安装教程<a hidden class=anchor aria-hidden=true href=#picgo-插件手动安装教程>#</a></h1><h2 id=插件picgo-plugin-s3>插件picgo-plugin-s3<a hidden class=anchor aria-hidden=true href=#插件picgo-plugin-s3>#</a></h2><p><code>picgo-plugin-s3</code> 是 <a href=https://github.com/PicGo/PicGo-Core>PicGo</a> 的 Amazon S3 上传插件。</p><ul><li>支持 Amazon S3 及兼容 S3 API 的云存储服务，如 Backblaze B2</li><li>支持 PicGo GUI 版本</li><li>支持 MinIO 服务</li></ul><p>安装方式：</p><ul><li><p>在 PicGo GUI 中，直接搜索 “S3” 即可安装插件。</p></li><li><p>使用 PicGo Core 版，则在命令行执行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>picgo add s3
</span></span></code></pre></td></tr></table></div></div><p>即可完成安装。</p></li></ul><h2 id=手动安装插件picgo-plugin-s3>手动安装插件picgo-plugin-s3<a hidden class=anchor aria-hidden=true href=#手动安装插件picgo-plugin-s3>#</a></h2><p>某些情况下，PicGo 插件安装会失败，或者搜索界面无法使用，此时可以选择手动安装插件。</p><hr><h3 id=1-确认你需要安装的插件>1. 确认你需要安装的插件<a hidden class=anchor aria-hidden=true href=#1-确认你需要安装的插件>#</a></h3><p>由于插件搜索或自动安装有时会失效，首先需要确认插件的准确名称。<br>打开插件仓库：<a href=https://github.com/PicGo/Awesome-PicGo>Plugin for PicGo</a>，找到你需要的插件。<br>例如本文以 <code>S3</code> 插件为例，其正式名称为：<code>picgo-plugin-s3</code>。</p><hr><h3 id=2-环境准备>2. 环境准备<a hidden class=anchor aria-hidden=true href=#2-环境准备>#</a></h3><p>PicGo-core 依赖 Node.js 环境，因此需要在系统中预先安装 Node.js。</p><blockquote><p>插件无法正常安装常因环境问题<br><strong>Node.js 安装方法不再赘述</strong>，可自行搜索安装教程，例如搜索关键词：“nodejs install for windows”。</p></blockquote><p>确认 Node.js 安装成功，可在命令行执行以下命令检查版本：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>node -v
</span></span><span class=line><span class=cl>npm -v
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=3-安装插件>3. 安装插件<a hidden class=anchor aria-hidden=true href=#3-安装插件>#</a></h3><p>以 Windows 系统为例，PicGo 的配置文件夹一般位于：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>C:\Users\{用户名}\AppData\Roaming\picgo
</span></span></code></pre></td></tr></table></div></div><blockquote><p><strong>注意</strong><br><code>AppData\Roaming</code> 文件夹用于存放应用程序的配置、插件、设置等，非专业用户建议谨慎操作，避免破坏程序正常运行。</p></blockquote><p>在该目录下打开终端（命令行窗口），执行以下命令安装插件：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install picgo-plugin-s3
</span></span></code></pre></td></tr></table></div></div><p>安装完成后，重启 PicGo 即可使用该插件。</p><h1 id=参考资料>参考资料<a hidden class=anchor aria-hidden=true href=#参考资料>#</a></h1><p><a href=https://zhuanlan.zhihu.com/p/24080167302>Cloudflare R2对象存储搭建高速免费图床完全指南</a></p><p><a href=https://tyxiaoming.xin/2025/01/12/%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/>个人图床最佳方案：Cloudflare R2+PicGo</a></p><p><a href=https://blog.wangms.org/ops/05_%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A.html>基于CF R2存储的免费图床</a></p><p><a href=https://github.com/wayjam/picgo-plugin-s3>picgo-plugin-s3</a></p><p><a href=https://blog.wangms.org/ops/07_PicGo%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6.html>PicGo手动安装插件</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://rosefinch-midsummer.github.io/zh/tags/cloudflare/>CloudFlare</a></li><li><a href=https://rosefinch-midsummer.github.io/zh/tags/%E5%9B%BE%E5%BA%8A/>图床</a></li><li><a href=https://rosefinch-midsummer.github.io/zh/tags/picgo/>PicGo</a></li></ul><nav class=paginav><a class=prev href=https://rosefinch-midsummer.github.io/zh/posts/toolkit/anki%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/><span class=title>« 上一頁</span><br><span>Anki入门教程</span>
</a><a class=next href=https://rosefinch-midsummer.github.io/zh/posts/course/deeplearningaiknowledge-graphs-for-rag/><span class=title>下一頁 »</span><br><span>DeeplearningAI《Knowledge-Graphs-for-RAG》</span></a></nav></footer><div><div class=pagination__title><span class=pagination__title-h style=font-size:20px>评论</span><br></div><div id=tcomment></div><script src=https://utteranc.es/client.js repo=Rosefinch-Midsummer/comments_of_blog issue-term=title theme=github-light crossorigin=anonymous async></script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.body.className.includes("dark")?"github-light":"photon-dark",t={type:"set-theme",theme:e},n=document.querySelector(".utterances-frame");n.contentWindow.postMessage(t,"https://utteranc.es")})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://rosefinch-midsummer.github.io/zh/>天漢帝國復興錄</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>本站总访问量<span id=busuanzi_value_site_pv></span>次
</span><span id=busuanzi_container_site_uv>本站访客数<span id=busuanzi_value_site_uv></span>人次</span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="複製";function s(){t.innerHTML="已複製！",setTimeout(()=>{t.innerHTML="複製"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>