<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶ | å¤©æ¼¢å¸åœ‹å¾©èˆˆéŒ„</title><meta name=keywords content="Python"><meta name=description content="ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶
å‰æï¼šæœ¬åœ°å®‰è£…ffmpegï¼Œå¯ä»¥é€‰æ‹©å®‰è£…pydubæˆ–æ˜¯moviepy
ä½¿ç”¨Pythonè°ƒç”¨ffmpegéœ€è¦å®‰è£…ffmpeg-python
ä½¿ç”¨PyDub


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26


import os
from pydub import AudioSegment


def convert_mp4_to_mp3(directory):
    for filename in os.listdir(directory):
        if filename.endswith('.mp4'):
            mp4_file_path = os.path.join(directory, filename)
            mp3_file_path = os.path.splitext(mp4_file_path)[0] + '.mp3'

            try:
                # ä½¿ç”¨ pydub è½¬æ¢ mp4 ä¸º mp3
                audio = AudioSegment.from_file(mp4_file_path, format='mp4')
                audio.export(mp3_file_path, format='mp3')

                # åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶
                os.remove(mp4_file_path)
                print(f&#34;Converted {mp4_file_path} to {mp3_file_path} and deleted original mp4 file.&#34;)
            except Exception as e:
                print(f&#34;Error processing {mp4_file_path}: {e}&#34;)

            # è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½•


target_directory = r'E:\Entertainment\100s'
convert_mp4_to_mp3(target_directory)


ä½¿ç”¨MoviePy


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25


import os  
from moviepy.editor import VideoFileClip  

def convert_mp4_to_mp3(directory):  
    # éå†ç›®å½•  
    for filename in os.listdir(directory):  
        if filename.endswith('.mp4'):  
            mp4_file_path = os.path.join(directory, filename)  
            mp3_file_path = os.path.splitext(mp4_file_path)[0] + '.mp3'  
            
            try:  
                # ä½¿ç”¨ moviepy è½¬æ¢è§†é¢‘ä¸ºéŸ³é¢‘  
                video_clip = VideoFileClip(mp4_file_path)  
                video_clip.audio.write_audiofile(mp3_file_path)  
                video_clip.close()  
                
                # åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶  
                os.remove(mp4_file_path)  
                print(f&#34;Converted {mp4_file_path} to {mp3_file_path} and deleted original mp4 file.&#34;)  
            except Exception as e:  
                print(f&#34;Error processing {mp4_file_path}: {e}&#34;)  

# è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½•  
target_directory = r'E:\Entertainment\åŒ—æµå˜‰æª'  
convert_mp4_to_mp3(target_directory)


ã€æœ€æ–°ã€‘windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£
windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£æ•™ç¨‹æ¥æº"><meta name=author content="RM"><link rel=canonical href=https://rosefinch-midsummer.github.io/zh/posts/life/%E4%BD%BF%E7%94%A8python%E6%8A%8Amp4%E6%96%87%E4%BB%B6%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2%E4%B8%BAmp3%E6%96%87%E4%BB%B6/><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"><link crossorigin=anonymous href=/assets/css/stylesheet.2211ca3164be7830024f6aad2b3a2e520843a64f8f048445c3401c1249aa051d.css integrity="sha256-IhHKMWS+eDACT2qtKzouUghDpk+PBIRFw0AcEkmqBR0=" rel="preload stylesheet" as=style><link rel=icon href=https://rosefinch-midsummer.github.io/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rosefinch-midsummer.github.io/img/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rosefinch-midsummer.github.io/img/favicon-32x32.png><link rel=apple-touch-icon href=https://rosefinch-midsummer.github.io/img/apple-touch-icon.png><link rel=mask-icon href=https://rosefinch-midsummer.github.io/img/android-chrome-192x192.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://rosefinch-midsummer.github.io/zh/posts/life/%E4%BD%BF%E7%94%A8python%E6%8A%8Amp4%E6%96%87%E4%BB%B6%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2%E4%B8%BAmp3%E6%96%87%E4%BB%B6/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta property="og:url" content="https://rosefinch-midsummer.github.io/zh/posts/life/%E4%BD%BF%E7%94%A8python%E6%8A%8Amp4%E6%96%87%E4%BB%B6%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2%E4%B8%BAmp3%E6%96%87%E4%BB%B6/"><meta property="og:site_name" content="å¤©æ¼¢å¸åœ‹å¾©èˆˆéŒ„"><meta property="og:title" content="ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶"><meta property="og:description" content="ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶ å‰æï¼šæœ¬åœ°å®‰è£…ffmpegï¼Œå¯ä»¥é€‰æ‹©å®‰è£…pydubæˆ–æ˜¯moviepy
ä½¿ç”¨Pythonè°ƒç”¨ffmpegéœ€è¦å®‰è£…ffmpeg-python
ä½¿ç”¨PyDub 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 import os from pydub import AudioSegment def convert_mp4_to_mp3(directory): for filename in os.listdir(directory): if filename.endswith('.mp4'): mp4_file_path = os.path.join(directory, filename) mp3_file_path = os.path.splitext(mp4_file_path)[0] + '.mp3' try: # ä½¿ç”¨ pydub è½¬æ¢ mp4 ä¸º mp3 audio = AudioSegment.from_file(mp4_file_path, format='mp4') audio.export(mp3_file_path, format='mp3') # åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶ os.remove(mp4_file_path) print(f&#34;Converted {mp4_file_path} to {mp3_file_path} and deleted original mp4 file.&#34;) except Exception as e: print(f&#34;Error processing {mp4_file_path}: {e}&#34;) # è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½• target_directory = r'E:\Entertainment\100s' convert_mp4_to_mp3(target_directory) ä½¿ç”¨MoviePy 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 import os from moviepy.editor import VideoFileClip def convert_mp4_to_mp3(directory): # éå†ç›®å½• for filename in os.listdir(directory): if filename.endswith('.mp4'): mp4_file_path = os.path.join(directory, filename) mp3_file_path = os.path.splitext(mp4_file_path)[0] + '.mp3' try: # ä½¿ç”¨ moviepy è½¬æ¢è§†é¢‘ä¸ºéŸ³é¢‘ video_clip = VideoFileClip(mp4_file_path) video_clip.audio.write_audiofile(mp3_file_path) video_clip.close() # åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶ os.remove(mp4_file_path) print(f&#34;Converted {mp4_file_path} to {mp3_file_path} and deleted original mp4 file.&#34;) except Exception as e: print(f&#34;Error processing {mp4_file_path}: {e}&#34;) # è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½• target_directory = r'E:\Entertainment\åŒ—æµå˜‰æª' convert_mp4_to_mp3(target_directory) ã€æœ€æ–°ã€‘windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£ windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£æ•™ç¨‹æ¥æº"><meta property="og:locale" content="zh-cn#en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-07T18:34:25+08:00"><meta property="article:modified_time" content="2025-02-07T22:54:22+08:00"><meta property="article:tag" content="Python"><meta name=twitter:card content="summary"><meta name=twitter:title content="ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶"><meta name=twitter:description content="ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶
å‰æï¼šæœ¬åœ°å®‰è£…ffmpegï¼Œå¯ä»¥é€‰æ‹©å®‰è£…pydubæˆ–æ˜¯moviepy
ä½¿ç”¨Pythonè°ƒç”¨ffmpegéœ€è¦å®‰è£…ffmpeg-python
ä½¿ç”¨PyDub


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26


import os
from pydub import AudioSegment


def convert_mp4_to_mp3(directory):
    for filename in os.listdir(directory):
        if filename.endswith('.mp4'):
            mp4_file_path = os.path.join(directory, filename)
            mp3_file_path = os.path.splitext(mp4_file_path)[0] + '.mp3'

            try:
                # ä½¿ç”¨ pydub è½¬æ¢ mp4 ä¸º mp3
                audio = AudioSegment.from_file(mp4_file_path, format='mp4')
                audio.export(mp3_file_path, format='mp3')

                # åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶
                os.remove(mp4_file_path)
                print(f&#34;Converted {mp4_file_path} to {mp3_file_path} and deleted original mp4 file.&#34;)
            except Exception as e:
                print(f&#34;Error processing {mp4_file_path}: {e}&#34;)

            # è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½•


target_directory = r'E:\Entertainment\100s'
convert_mp4_to_mp3(target_directory)


ä½¿ç”¨MoviePy


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25


import os  
from moviepy.editor import VideoFileClip  

def convert_mp4_to_mp3(directory):  
    # éå†ç›®å½•  
    for filename in os.listdir(directory):  
        if filename.endswith('.mp4'):  
            mp4_file_path = os.path.join(directory, filename)  
            mp3_file_path = os.path.splitext(mp4_file_path)[0] + '.mp3'  
            
            try:  
                # ä½¿ç”¨ moviepy è½¬æ¢è§†é¢‘ä¸ºéŸ³é¢‘  
                video_clip = VideoFileClip(mp4_file_path)  
                video_clip.audio.write_audiofile(mp3_file_path)  
                video_clip.close()  
                
                # åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶  
                os.remove(mp4_file_path)  
                print(f&#34;Converted {mp4_file_path} to {mp3_file_path} and deleted original mp4 file.&#34;)  
            except Exception as e:  
                print(f&#34;Error processing {mp4_file_path}: {e}&#34;)  

# è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½•  
target_directory = r'E:\Entertainment\åŒ—æµå˜‰æª'  
convert_mp4_to_mp3(target_directory)


ã€æœ€æ–°ã€‘windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£
windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£æ•™ç¨‹æ¥æº"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ğŸ“šæ–‡ç« ","item":"https://rosefinch-midsummer.github.io/zh/posts/"},{"@type":"ListItem","position":2,"name":"ğŸ–ç”Ÿæ´»","item":"https://rosefinch-midsummer.github.io/zh/posts/life/"},{"@type":"ListItem","position":3,"name":"ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶","item":"https://rosefinch-midsummer.github.io/zh/posts/life/%E4%BD%BF%E7%94%A8python%E6%8A%8Amp4%E6%96%87%E4%BB%B6%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2%E4%B8%BAmp3%E6%96%87%E4%BB%B6/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶","name":"ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶","description":"ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶ å‰æï¼šæœ¬åœ°å®‰è£…ffmpegï¼Œå¯ä»¥é€‰æ‹©å®‰è£…pydubæˆ–æ˜¯moviepy\nä½¿ç”¨Pythonè°ƒç”¨ffmpegéœ€è¦å®‰è£…ffmpeg-python\nä½¿ç”¨PyDub 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 import os from pydub import AudioSegment def convert_mp4_to_mp3(directory): for filename in os.listdir(directory): if filename.endswith(\u0026#39;.mp4\u0026#39;): mp4_file_path = os.path.join(directory, filename) mp3_file_path = os.path.splitext(mp4_file_path)[0] + \u0026#39;.mp3\u0026#39; try: # ä½¿ç”¨ pydub è½¬æ¢ mp4 ä¸º mp3 audio = AudioSegment.from_file(mp4_file_path, format=\u0026#39;mp4\u0026#39;) audio.export(mp3_file_path, format=\u0026#39;mp3\u0026#39;) # åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶ os.remove(mp4_file_path) print(f\u0026#34;Converted {mp4_file_path} to {mp3_file_path} and deleted original mp4 file.\u0026#34;) except Exception as e: print(f\u0026#34;Error processing {mp4_file_path}: {e}\u0026#34;) # è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½• target_directory = r\u0026#39;E:\\Entertainment\\100s\u0026#39; convert_mp4_to_mp3(target_directory) ä½¿ç”¨MoviePy 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 import os from moviepy.editor import VideoFileClip def convert_mp4_to_mp3(directory): # éå†ç›®å½• for filename in os.listdir(directory): if filename.endswith(\u0026#39;.mp4\u0026#39;): mp4_file_path = os.path.join(directory, filename) mp3_file_path = os.path.splitext(mp4_file_path)[0] + \u0026#39;.mp3\u0026#39; try: # ä½¿ç”¨ moviepy è½¬æ¢è§†é¢‘ä¸ºéŸ³é¢‘ video_clip = VideoFileClip(mp4_file_path) video_clip.audio.write_audiofile(mp3_file_path) video_clip.close() # åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶ os.remove(mp4_file_path) print(f\u0026#34;Converted {mp4_file_path} to {mp3_file_path} and deleted original mp4 file.\u0026#34;) except Exception as e: print(f\u0026#34;Error processing {mp4_file_path}: {e}\u0026#34;) # è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½• target_directory = r\u0026#39;E:\\Entertainment\\åŒ—æµå˜‰æª\u0026#39; convert_mp4_to_mp3(target_directory) ã€æœ€æ–°ã€‘windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£ windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£æ•™ç¨‹æ¥æº\n","keywords":["Python"],"articleBody":"ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶ å‰æï¼šæœ¬åœ°å®‰è£…ffmpegï¼Œå¯ä»¥é€‰æ‹©å®‰è£…pydubæˆ–æ˜¯moviepy\nä½¿ç”¨Pythonè°ƒç”¨ffmpegéœ€è¦å®‰è£…ffmpeg-python\nä½¿ç”¨PyDub 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 import os from pydub import AudioSegment def convert_mp4_to_mp3(directory): for filename in os.listdir(directory): if filename.endswith('.mp4'): mp4_file_path = os.path.join(directory, filename) mp3_file_path = os.path.splitext(mp4_file_path)[0] + '.mp3' try: # ä½¿ç”¨ pydub è½¬æ¢ mp4 ä¸º mp3 audio = AudioSegment.from_file(mp4_file_path, format='mp4') audio.export(mp3_file_path, format='mp3') # åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶ os.remove(mp4_file_path) print(f\"Converted {mp4_file_path} to {mp3_file_path} and deleted original mp4 file.\") except Exception as e: print(f\"Error processing {mp4_file_path}: {e}\") # è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½• target_directory = r'E:\\Entertainment\\100s' convert_mp4_to_mp3(target_directory) ä½¿ç”¨MoviePy 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 import os from moviepy.editor import VideoFileClip def convert_mp4_to_mp3(directory): # éå†ç›®å½• for filename in os.listdir(directory): if filename.endswith('.mp4'): mp4_file_path = os.path.join(directory, filename) mp3_file_path = os.path.splitext(mp4_file_path)[0] + '.mp3' try: # ä½¿ç”¨ moviepy è½¬æ¢è§†é¢‘ä¸ºéŸ³é¢‘ video_clip = VideoFileClip(mp4_file_path) video_clip.audio.write_audiofile(mp3_file_path) video_clip.close() # åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶ os.remove(mp4_file_path) print(f\"Converted {mp4_file_path} to {mp3_file_path} and deleted original mp4 file.\") except Exception as e: print(f\"Error processing {mp4_file_path}: {e}\") # è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½• target_directory = r'E:\\Entertainment\\åŒ—æµå˜‰æª' convert_mp4_to_mp3(target_directory) ã€æœ€æ–°ã€‘windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£ windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£æ•™ç¨‹æ¥æº\næœ¬æ–‡ä»¥ Windows 64 ä½æ“ä½œç³»ç»Ÿä¸ºä¾‹æ¼”ç¤º\nä¸€ã€ä¸‹è½½\u0026è§£å‹\næ‰“å¼€ FFmpeg å®˜ç½‘ï¼Œé€‰æ‹©ä¸‹è½½ã€‚\né€‰æ‹© Windows å¹³å°ï¼Œä¸‹é¢æœ‰ä¸¤ä¸ªé“¾æ¥ï¼Œéƒ½æ˜¯å¯ä»¥çš„ï¼Œé€‰æ‹©å…¶ä¸€ã€‚\næœ¬æ–‡ä»¥ç‚¹å‡»ç¬¬ä¸€ä¸ªé“¾æ¥ä¸ºä¾‹ï¼Œè¿›å»ä»¥åï¼Œé€‰æ‹©å·¦è¾¹çš„ release builds ï¼Œå³è¾¹å‡ºç°å¦‚ä¸‹å†…å®¹ï¼š\nä½ å¯ä»¥é€‰æ‹©ä¸‹è½½ä¸Šé¢çº¢è‰²åœˆä¸­çš„ release-full ç‰ˆæœ¬ï¼Œæˆ–è€…é€‰æ‹©ä¸‹é¢çº¢è‰²åœˆä¸­çš„å‰ä¸€ä¸ªç¨³å®šç‰ˆæœ¬ xxx-full_buildã€‚\nrelease-full ç‰ˆæœ¬ä¼šæ¯”ä¸‹é¢çš„ xxx-full_build ç‰ˆæœ¬æ›´æ–°ï¼Œé€‰æ‹©å“ªä¸€ä¸ªéƒ½å¯ä»¥ï¼Œçœ‹ä½ ä¸ªäººå–œå¥½ã€‚\nè‡³äºä½ æ˜¯æƒ³é€‰æ‹©å¸¦ shared çš„è¿˜æ˜¯ä¸å¸¦ shared çš„ç‰ˆæœ¬ï¼Œå…¶å®éƒ½æ˜¯å¯ä»¥çš„ã€‚å› ä¸ºåŒä¸€ä¸ªç‰ˆæœ¬å¸¦ shared çš„å’Œä¸å¸¦ shared çš„ï¼ŒåŠŸèƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚\nå¸¦ shared çš„é‡Œé¢ï¼Œå¤šäº† includeã€lib ç›®å½•ã€‚æŠŠ FFmpeg ä¾èµ–çš„æ¨¡å—åŒ…å•ç‹¬çš„æ”¾åœ¨çš„ lib ç›®å½•ä¸­ã€‚ffmpeg.exeï¼Œffplay.exeï¼Œffprobe.exe ä½œä¸ºå¯æ‰§è¡Œæ–‡ä»¶çš„å…¥å£ï¼Œæ–‡ä»¶ä½“ç§¯å¾ˆå°ï¼Œä»–ä»¬åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå¦‚æœéœ€è¦ï¼Œä¼šåˆ° lib ä¸­è°ƒç”¨ç›¸åº”çš„åŠŸèƒ½ã€‚\nä¸å¸¦ shared çš„é‡Œé¢ï¼Œbin ç›®å½•ä¸­æœ‰ ffmpeg.exeï¼Œffplay.exeï¼Œffprobe.exe ä¸‰ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ¯ä¸ª exe çš„ä½“ç§¯éƒ½ç¨å¤§ä¸€ç‚¹ï¼Œå› ä¸ºå®ƒå·²ç»æŠŠç›¸å…³çš„éœ€è¦ç”¨çš„æ¨¡å—åŒ…ç¼–è¯‘åˆ°exeé‡Œé¢å»äº†ã€‚\nè§£å‹ä»¥åçš„å†…å®¹ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼›è¿›å…¥ bin ç›®å½•ï¼Œå¤åˆ¶ bin ç›®å½•è·¯å¾„ã€‚\näºŒã€é…ç½®ç¯å¢ƒå˜é‡\n1ã€é…ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡\n1ã€åœ¨ç”µè„‘æ¡Œé¢ä¸Šï¼Œæ‰“å¼€æˆ‘çš„ç”µè„‘\n2ã€åœ¨ç©ºç™½å¤„ï¼Œå³é”®ï¼Œé€‰æ‹©å±æ€§\n3ã€é€‰æ‹© é«˜çº§ç³»ç»Ÿè®¾ç½® -\u003e é«˜çº§ -\u003e ç¯å¢ƒå˜é‡\n4ã€åœ¨ç³»ç»Ÿå˜é‡ä¸­ï¼Œé€‰æ‹© Pathï¼Œç„¶åç¼–è¾‘ï¼š\n5ã€ç„¶ååœ¨å‡ºæ¥çš„ç¼–è¾‘ç¯å¢ƒå˜é‡è¡¨ä¸­ï¼Œæ–°å»ºä¸€ä¸ªï¼Œå°†åˆšæ‰å¤åˆ¶çš„ bin ç›®å½•è·¯å¾„ç²˜è´´è¿›å»ï¼Œä¿å­˜å³å¯ã€‚\nä¸‰ã€éªŒè¯\né‡æ–°æ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œè¾“å…¥ï¼š ffmpeg -versionï¼Œæœ‰ç‰ˆæœ¬ä¿¡æ¯è¾“å‡ºï¼Œåˆ™è¯æ˜é…ç½®æˆåŠŸï¼ï¼\næ‰§è¡ŒPythonä»£ç éœ€è¦é‡å¯PyCharmã€‚\né¢å¤–è¡¥å……\nå¯¹äº windows ç”µè„‘å¯ä»¥å°†è§£å‹æ–‡ä»¶æ”¾åˆ°ç³»ç»Ÿçš„ system32 ç›®å½•ä¸­å»ï¼Œå°±ä¸ç”¨é…ç½®ç¯å¢ƒå˜é‡äº†ã€‚\nPyDubå…¥é—¨æ•™ç¨‹ PythonéŸ³é¢‘å¤„ç†åˆ©å™¨ï¼špydubè¯¦è§£\nPydub æ˜¯ä¸€ä¸ªç”¨ Python ç¼–å†™çš„éŸ³é¢‘å¤„ç†åº“ï¼Œå®ƒå¯ä»¥æ–¹ä¾¿åœ°å¤„ç†è®¸å¤šéŸ³é¢‘æ–‡ä»¶ï¼Œè¯¸å¦‚åˆ†å‰²ã€åˆå¹¶ã€æ ¼å¼è½¬æ¢ã€éŸ³é‡è°ƒèŠ‚ç­‰ã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\nä¸»è¦ä½¿ç”¨ ffmpeg å’Œ libav æ¨¡å—æ¥å®ç°éŸ³é¢‘çš„è¯»å–ã€å¤„ç†å’Œè¾“å‡ºã€‚ æ”¯æŒçš„éŸ³é¢‘æ ¼å¼éå¸¸å¹¿æ³›ï¼ŒåŒ…æ‹¬ MP3ã€WAVã€FLACã€MP4 ç­‰ã€‚ API ç®€å•æ˜“ç”¨ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œå¸¸ç”¨çš„éŸ³é¢‘å¤„ç†æ“ä½œã€‚ Pydub æ˜¯ä¸€ä¸ªè½»é‡çº§ã€å¿«é€Ÿä¸”æ˜“äºä½¿ç”¨çš„åº“ã€‚silenceåº“æ˜¯pydubçš„ä¸€ä¸ªæ‰©å±•åº“ï¼Œå¯ä»¥åœ¨éŸ³é¢‘æ–‡ä»¶ä¸­æ ¹æ®é™é»˜éƒ¨åˆ†è¿›è¡Œåˆ†å‰²ï¼Œéå¸¸æ–¹ä¾¿ã€‚\n1 pydubå®‰è£… å®‰è£… Pydub çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ pipï¼Œåªéœ€åœ¨å‘½ä»¤è¡Œä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š\n1 pip install pydub ä¾èµ–ï¼šéœ€å®‰è£…ffmpegæˆ–è€…libav\nå¦‚æœ ffmpeg æˆ– libav æœªå®‰è£…ï¼Œåˆ™è¿˜éœ€è¦åœ¨ç³»ç»Ÿä¸­å®‰è£…ç›¸å…³ä¾èµ–åº“ã€‚\n2 pydubæ¨¡å—ä½¿ç”¨ è¯»å–éŸ³é¢‘æ–‡ä»¶éå¸¸ç®€å•ï¼Œåªéœ€ä½¿ç”¨ AudioSegment.from_file() å‡½æ•°å³å¯ã€‚ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•è¯»å–åä¸º â€œsoundfile.mp3â€ çš„ MP3 æ–‡ä»¶ï¼š\n2.1 æ‰“å¼€éŸ³é¢‘æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 from pydub import AudioSegment # æ‰“å¼€wavæ ¼å¼éŸ³é¢‘æ–‡ä»¶ sound = AudioSegment.from_wav('./soundfile.wav') # æ‰“å¼€mp3éŸ³é¢‘æ–‡ä»¶ï¼ŒAudioSegmentåŸç”Ÿåªæ”¯æŒwavï¼Œrawæ–‡ä»¶ï¼Œå®‰è£…ffmpegå¯æ”¯æŒå…¶æ‰€æœ‰æ ¼å¼ sound = AudioSegment.from_mp3('./soundfile.mp3') # æ‰“å¼€éŸ³é¢‘æ–‡ä»¶ï¼Œç”ŸæˆAudioSegmentå¯¹è±¡ sound = AudioSegment.from_file('./soundfile.mp3')\t# formaté»˜è®¤å€¼ä¸º\"mp3\" sound = AudioSegment.from_file('./soundfile.wav', format='wav') # æ‰“å¼€rawæ–‡ä»¶éœ€è¦é¢å¤–å‚æ•°ï¼Œsample_widthï¼ˆé‡‡æ ·ä½æ•°ï¼‰ï¼Œframe_rateï¼ˆé‡‡æ ·é¢‘ç‡ï¼‰ï¼Œchannelsï¼ˆå£°é€šé“ï¼‰ # sample_width: 1ã€8bitï¼Œ2ã€16bitï¼Œ3ã€32bit # frame_rate: 44100(44.1kHz CD audio), 48000(48kHz DVD audio) # channels: 1ã€å•å£°é“ï¼Œ2ã€ç«‹ä½“å£° sound = AudioSegment.from_file('./soundfile.raw', format='raw', frame_rate=44100, channels=2, sample_width=2) 2.2 å¯¼å‡ºéŸ³é¢‘æ–‡ä»¶ è¦å°† AudioSegment å¯¹è±¡ä¿å­˜ä¸ºéŸ³é¢‘æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ export() å‡½æ•°ã€‚ä»¥ä¸‹ç¤ºä¾‹å°†ä¸Šè¿°è¯»å–çš„éŸ³é¢‘è¾“å‡ºä¸ºåä¸º â€œoutputsoundfile.mp3â€ çš„ mp3æ–‡ä»¶ï¼š\n1 2 3 4 sound = AudioSegment.from_file('./soundfile.wav', format='wav') # å¯¼å‡ºéŸ³é¢‘æ–‡ä»¶ sound.export('./outputsoundfile.mp3', format='mp3') 2.3 åˆ›å»ºéŸ³é¢‘æ–‡ä»¶ 1 2 3 4 5 6 # ç”Ÿæˆä¸€ä¸ªæ—¶é—´é•¿åº¦ä¸º0ç§’çš„AudioSegmentå¯¹è±¡ï¼Œä¸€èˆ¬ç”¨äºå¤šä¸ªéŸ³é¢‘åˆå¹¶ sound = AudioSegment.empty() # ç”Ÿæˆä¸€ä¸ªæ—¶é—´é•¿åº¦ä¸º5ç§’çš„æ— å£°AduioSegmentå¯¹è±¡ # å‚æ•°duration:æ—¶é—´é•¿åº¦ï¼ˆæ¯«ç§’ï¼‰ï¼Œframe_rate:é¢‘ç‡ï¼Œé»˜è®¤ä¸º11025Hz sound = AudioSegment.silent(duration=50000) 2.4 åˆå¹¶éŸ³é¢‘æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 # ä¸¤ä¸ªå•å£°é“éŸ³é¢‘åˆå¹¶ä¸ºä¸€ä¸ªå¤šå£°é“éŸ³é¢‘ left_channel = AudioSegment.from_wav('sound_left.wav') right_channel = AudioSegment.from_wav('sound_right.wav') stereo_sound = AudioSegment.from_mono_auidosegments(left_channel,right_channel) # å°†å¤šå£°é“éŸ³é¢‘åˆ†è§£æˆä¸¤ä¸ªå•å£°é“ sound = AudioSegment.from_wav('sound.wav') sound.split_to_mono() # ä¸¤ä¸ªéŸ³é¢‘æ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶ sound1 = AudioSegment.from_file('sound1.wav', format='wav') sound2 = AudioSegment.from_file('sound2.wav', format='wav') # æ— äº¤å‰æ·¡å…¥æ·¡å‡º sound = sound1 + sound2 # OR sound = sound1.append(sound2, crossfade=0) # æ·¡å…¥æ·¡å‡ºï¼Œå‚æ•°crossfade:æ•ˆæœæŒç»­æ—¶é—´ï¼Œé»˜è®¤100æ¯«ç§’ sound = sound1.append(sound2, crossfade=100) # ä¸¤ä¸ªéŸ³é¢‘æ–‡ä»¶å åŠ ä¸ºä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶ # ä¾‹ï¼Œé•¿éŸ³é¢‘sound1ï¼Œ30s sound1 = AudioSegment.from_file('sound1.wav', format='wav') # ä¾‹ï¼ŒçŸ­éŸ³é¢‘sound2ï¼Œ10s sound2 = AudioSegment.from_file('sound2.wav', format='wav') # å°†sound2å åŠ è‡³sound1ä¸Šï¼Œå‚æ•°postions:ä»sound1éŸ³é¢‘10ç§’å¤„å¼€å§‹å åŠ ï¼Œé»˜è®¤ä¸º0ï¼Œå¾—åˆ°çš„éŸ³é¢‘æ–‡ä»¶ï¼Œä¼šä»10ç§’å¤„å¼€å§‹å‡ºç°sound2éŸ³é¢‘ï¼Œ20ç§’å¤„sound2éŸ³é¢‘ç»“æŸï¼Œåªä½™sound1éŸ³é¢‘ sound = sound1.overlay(sound2, postions=10000) # å°†sound2å åŠ è‡³sound1ä¸Šï¼Œå‚æ•°loop:å¼€å¯å¾ªç¯ï¼Œé»˜è®¤ä¸ºFasleï¼Œå¾—åˆ°çš„éŸ³é¢‘æ–‡ä»¶sound2å°†ä¼šå¾ªç¯æ’­æ”¾è‡³sound1ç»“æŸ sound = sound1.overlay(sound2, loop=true) # å°†sound2å åŠ è‡³sound1ä¸Šï¼Œå‚æ•°times:é‡å¤æ¬¡æ•°ï¼Œé»˜è®¤ä¸º1ï¼Œå¾—åˆ°çš„éŸ³é¢‘æ–‡ä»¶sound2å°†ä¼šé‡å¤ä¸¤æ¬¡ï¼Œåœ¨ä¸¤ä¸ªsound2çš„æ—¶é—´ç»“æŸsound2éŸ³é¢‘ sound = sound1.overlay(sound2, times=2) # å°†sound1å åŠ è‡³sound2ä¸Šï¼Œ10ç§’åsound2éŸ³é¢‘ç»“æŸï¼Œsound1éŸ³é¢‘æˆªæ–­è‡³10sç»“æŸï¼Œæœ€ç»ˆè¯¥éŸ³é¢‘é•¿åº¦åªæœ‰10sï¼Œå³ sound = sound2.overlay(sound1) len(sound) == sound2 2.5 éŸ³é¢‘æ–‡ä»¶ä¿¡æ¯ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 sound = AudioSegment.from_file('soundfile.wav', format='wav') # å£°é“æ•° schannel = sound.channels # é‡‡æ ·ä½æ•°ï¼Œä¹Ÿç§°ä½æ·±åº¦ï¼Œæ˜¯æŒ‡æ¯ä¸ªé‡‡æ ·æ ·æœ¬æ‰€åŒ…å«çš„ä½æ•°ï¼ˆå­—èŠ‚æ•°ï¼‰ï¼Œé€šå¸¸æœ‰8 bitã€16 bit sbytes = sound.sample_width # é‡‡æ ·é¢‘ç‡ï¼Œä¹Ÿç§°é‡‡æ ·ç‡ï¼Œæ˜¯æŒ‡åœ¨å•ä½æ—¶é—´å†…å¯¹å£°éŸ³ä¿¡å·çš„é‡‡æ ·æ•°æˆ–æ ·æœ¬æ•°ï¼Œé‡‡æ ·é¢‘ç‡è¶Šèƒ½é«˜è¡¨ç°çš„é¢‘ç‡èŒƒå›´è¶Šå¤§ï¼ˆç”µè¯ï¼š8kHZï¼Œæ— çº¿ç”µå¹¿æ’­ï¼š22.05kHzï¼ŒCDï¼š44.1kHzï¼ŒDVDï¼š48kHZï¼Œè“å…‰ï¼š96kHzï¼Œ192kHzï¼‰ srate = sound.frame_rate # å¸§ä½æ•°, å¸§åŒ…å«æ¯ä¸ªå£°é“çš„é‡‡æ ·ä½æ•°frame_width = channels * sample_width sframebytes = sound.frame_width # éŸ³é¢‘æ–‡ä»¶å¸§æ•°, å¯é€‰å‚æ•°ms:æ—¶é—´é•¿åº¦ï¼Œé»˜è®¤None sframe = sound.frame_count() # éŸ³é¢‘æ–‡ä»¶æ—¶é•¿ï¼Œå•ä½ç§’ stime = sound.duration_seconds # OR stime = (len(sound) / 1000) 2.6 å¤„ç†éŸ³é¢‘æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 sound = AudioSegment.from_file('soundfile.wav', format='wav') # éŸ³é¢‘å‰5ç§’ï¼Œpydubä¸­æ—¶é—´ä»¥æ¯«ç§’ï¼ˆmsï¼‰ä¸ºå•ä½ audio_begin = sound[:5000] # éŸ³é¢‘å5ç§’ï¼Œpydubä¸­æ—¶é—´ä»¥æ¯«ç§’ï¼ˆmsï¼‰ä¸ºå•ä½ audio_end = sound[-5000:] # æ”¹å˜éŸ³é¢‘å¹…åº¦ï¼Œä»¥åˆ†è´ï¼ˆdBï¼‰ä¸ºå•ä½ # è°ƒé«˜å¹…åº¦ raise_via = sound.apply_gain(+5) raise_via = sound + 5 # è°ƒä½éŸ³é‡ lower_via = sound.apply_gain(-5) lower_via = sound - 5 # æ·¡å…¥æ·¡å‡ºæ•ˆæœ # æ·¡å…¥ï¼Œå‚æ•°duration:æŒç»­æ—¶é—´ sound.fade_in(duration=5000) # æ·¡å‡ºï¼Œå‚æ•°duration:æŒç»­æ—¶é—´ sound.fade_out(duration=5000) # å€’æ”¾éŸ³é¢‘æ–‡ä»¶ newsound = sound.reverse() 2.7 æ’­æ”¾éŸ³é¢‘æ–‡ä»¶ 1 2 3 4 5 6 7 8 from pydub import playback from pydub import AduioSegment from pydub.playback import play sound = AduioSegment.from_wav('sound.wav') # æ’­æ”¾éŸ³é¢‘ play(sound) 2.8 åˆ†å‰²éŸ³é¢‘ 1 2 3 4 5 6 7 8 from pydub import utils from pydub import AudioSegment from pydub.utils import make_chanks sound = AduioSegment.from_wav('sound.wav') # åˆ†å‰²éŸ³é¢‘, å‚æ•°chunk_length:ä¸€æ®µéŸ³é¢‘å¤šé•¿æ—¶é—´ make_chanks(sound, chunk_length=5000) 3 ä½¿ç”¨pydubæ ¹æ®é™éŸ³åˆ†å‰²éŸ³é¢‘ 3.1 é™éŸ³æ£€æµ‹åŸç† é™éŸ³æ£€æµ‹åŸç†æ˜¯é€šè¿‡åˆ†æéŸ³é¢‘ä¿¡å·çš„èƒ½é‡ï¼Œåˆ¤æ–­å…¶æ˜¯å¦ä¸ºé™éŸ³çŠ¶æ€ã€‚å…·ä½“çš„åŸç†å¦‚ä¸‹ï¼š\néŸ³é¢‘ä¿¡å·é€šå¸¸å¯ä»¥ç”¨æ—¶åŸŸæˆ–é¢‘åŸŸæ¥è¡¨ç¤ºã€‚å¯¹äºæ—¶åŸŸè¡¨ç¤ºï¼Œå¯ä»¥å°†éŸ³é¢‘ä¿¡å·åˆ†æˆä¸€æ®µä¸€æ®µçš„å°å—ï¼Œæ¯ä¸ªå°å—ç§°ä¸ºå¸§ã€‚å¯¹äºé¢‘åŸŸè¡¨ç¤ºï¼Œå¯ä»¥å°†éŸ³é¢‘ä¿¡å·å˜æ¢ä¸ºé¢‘è°±å›¾ã€‚\né™éŸ³çš„ç‰¹ç‚¹æ˜¯ä¿¡å·çš„èƒ½é‡è¾ƒä½ï¼Œé€šå¸¸å¤„äºæ¥è¿‘é›¶çš„æ°´å¹³ã€‚å› æ­¤ï¼Œé™éŸ³æ£€æµ‹å¯ä»¥é€šè¿‡è®¡ç®—æ¯ä¸ªå¸§æˆ–é¢‘è°±å›¾çš„èƒ½é‡æ¥åˆ¤æ–­æ˜¯å¦ä¸ºé™éŸ³ã€‚\nè®¡ç®—èƒ½é‡çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨ç»å¯¹èƒ½é‡æˆ–ç›¸å¯¹èƒ½é‡ã€‚ç»å¯¹èƒ½é‡æ˜¯æŒ‡è®¡ç®—ä¿¡å·çš„å¹³æ–¹å’Œï¼Œå³å°†ä¿¡å·çš„æ¯ä¸ªæ ·æœ¬å–å¹³æ–¹åç›¸åŠ ã€‚ç›¸å¯¹èƒ½é‡æ˜¯æŒ‡è®¡ç®—ä¿¡å·çš„åŠŸç‡è°±å¯†åº¦ï¼Œå³å°†ä¿¡å·çš„åŠŸç‡è°±å¯†åº¦æ±‚å’Œã€‚\né™éŸ³æ£€æµ‹çš„é˜ˆå€¼æ˜¯æ ¹æ®å®é™…åº”ç”¨æ¥ç¡®å®šçš„ã€‚é€šå¸¸å¯ä»¥æ ¹æ®ç»éªŒè®¾ç½®ä¸€ä¸ªåˆé€‚çš„é˜ˆå€¼ï¼Œå½“å¸§çš„èƒ½é‡æˆ–é¢‘è°±å›¾çš„èƒ½é‡ä½äºé˜ˆå€¼æ—¶ï¼Œè¢«åˆ¤æ–­ä¸ºé™éŸ³ã€‚\né™éŸ³æ£€æµ‹ä¹Ÿå¯ä»¥ç»“åˆå…¶ä»–ç‰¹å¾è¿›è¡Œåˆ¤æ–­ï¼Œä¾‹å¦‚é›¶äº¤å‰ç‡ã€çŸ­æ—¶è¿‡é›¶ç‡ç­‰ã€‚è¿™äº›ç‰¹å¾å¯ä»¥æä¾›æ›´å‡†ç¡®çš„é™éŸ³æ£€æµ‹ç»“æœã€‚\né™éŸ³æ£€æµ‹åŸç†æ˜¯é€šè¿‡è®¡ç®—éŸ³é¢‘ä¿¡å·çš„èƒ½é‡æ¥åˆ¤æ–­æ˜¯å¦ä¸ºé™éŸ³çŠ¶æ€ï¼Œé€šå¸¸é€šè¿‡è®¾ç½®ä¸€ä¸ªé˜ˆå€¼æ¥åˆ¤æ–­ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥ç»“åˆå…¶ä»–ç‰¹å¾è¿›è¡Œåˆ¤æ–­ï¼Œæé«˜æ£€æµ‹çš„å‡†ç¡®æ€§ã€‚\nè¯­éŸ³å’Œå™ªå£°çš„åŒºåˆ«å¯ä»¥ä½“ç°åœ¨ä»–ä»¬çš„èƒ½é‡ä¸Šï¼Œè¯­éŸ³æ®µçš„èƒ½é‡æ¯”å™ªå£°æ®µçš„èƒ½é‡å¤§ï¼Œå¦‚æœç¯å¢ƒå™ªå£°å’Œç³»ç»Ÿè¾“å…¥çš„å™ªå£°æ¯”è¾ƒå°ï¼Œåªè¦è®¡ç®—è¾“å…¥ä¿¡å·çš„çŸ­æ—¶èƒ½é‡å°±èƒ½å¤ŸæŠŠè¯­éŸ³æ®µå’Œå™ªå£°èƒŒæ™¯åŒºåˆ†å¼€ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç”¨åŸºäºèƒ½é‡çš„ç®—æ³•æ¥æ£€æµ‹æµŠéŸ³é€šå¸¸æ•ˆæœä¹Ÿæ˜¯æ¯”è¾ƒç†æƒ³çš„ï¼Œå› ä¸ºæµŠéŸ³çš„èƒ½é‡å€¼æ¯”æ¸…éŸ³å¤§å¾—å¤šï¼Œå¯ä»¥åˆ¤æ–­æµŠéŸ³å’Œæ¸…éŸ³ä¹‹é—´è¿‡æ¸¡çš„æ—¶åˆ»ï¼Œä½†å¯¹æ¸…éŸ³æ¥è¯´ï¼Œæ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œå› æ­¤è¿˜éœ€è¦å€ŸåŠ©çŸ­æ—¶è¿‡é›¶ç‡æ¥è¡¨å¾ã€‚\nçŸ­æ—¶èƒ½é‡å¯ä»¥è¿‘ä¼¼ä¸ºäº’è¡¥çš„æƒ…å†µï¼ŒçŸ­æ—¶èƒ½é‡å¤§çš„åœ°æ–¹è¿‡é›¶ç‡å°ï¼ŒçŸ­æ—¶èƒ½é‡å°çš„åœ°æ–¹è¿‡é›¶ç‡è¾ƒå¤§ã€‚\nåŸºäºçŸ­æ—¶èƒ½é‡å’Œè¿‡é›¶ç‡çš„æ£€æµ‹æ–¹æ³• å°½ç®¡åŸºäºçŸ­æ—¶èƒ½é‡å’Œè¿‡é›¶ç‡çš„æ£€æµ‹æ–¹æ³•å„æœ‰å…¶ä¼˜ç¼ºç‚¹ï¼Œä½†æ˜¯è‹¥å°†è¿™ä¸¤ç§åŸºæœ¬æ–¹æ³•ç›¸ç»“åˆèµ·æ¥ä½¿ç”¨ä¹Ÿå¯ä»¥å®ç°å¯¹è¯­éŸ³ä¿¡å·å¯é çš„ç«¯ç‚¹æ£€æµ‹ã€‚æ— å£°æ®µçš„çŸ­æ—¶èƒ½é‡ä¸ºé›¶ï¼Œæ¸…éŸ³æ®µçš„çŸ­æ—¶èƒ½é‡åˆæ¯”æµŠéŸ³æ®µçš„çŸ­æ—¶èƒ½é‡å¤§ï¼Œè€Œåœ¨è¿‡é›¶ç‡æ–¹é¢ï¼Œç†æƒ³çš„æƒ…å†µæ˜¯æ— å£°æ®µçš„è¿‡é›¶ç‡ä¸ºé›¶ï¼ŒæµŠéŸ³æ®µçš„è¿‡é›¶ç‡æ¯”æ¸…éŸ³æ®µçš„è¿‡é›¶ç‡è¦å¤§çš„å¤šï¼Œå‡è®¾æœ‰ä¸€æ®µè¯­éŸ³ï¼Œå¦‚æœæŸéƒ¨åˆ†çŸ­æ—¶èƒ½é‡å’Œè¿‡é›¶ç‡éƒ½ä¸ºé›¶æˆ–è€…ä¸ºå¾ˆå°çš„å€¼ï¼Œå°±å¯ä»¥è®¤ä¸ºè¿™éƒ¨åˆ†ä¸ºæ— å£°æ®µã€‚\nå¦‚æœè¯¥éƒ¨åˆ†è¯­éŸ³çŸ­æ—¶èƒ½é‡å¾ˆå¤§ä½†æ˜¯è¿‡é›¶ç‡å¾ˆå°ï¼Œåˆ™è®¤ä¸ºè¯¥éƒ¨åˆ†è¯­éŸ³ä¸ºæµŠéŸ³æ®µã€‚\nå¦‚æœè¯¥éƒ¨åˆ†çŸ­æ—¶èƒ½é‡å¾ˆå°ä½†æ˜¯è¿‡é›¶ç‡å¾ˆå¤§ï¼Œåˆ™è®¤ä¸ºè¯¥éƒ¨åˆ†è¯­éŸ³ä¸ºæ¸…éŸ³æ®µã€‚\næ­£å¦‚å‰é¢æåˆ°ï¼Œè¯­éŸ³ä¿¡å·å…·æœ‰çŸ­æ—¶æ€§ï¼Œå› æ­¤åœ¨å¯¹è¯­éŸ³ä¿¡å·è¿›è¡Œåˆ†ææ—¶ï¼Œéœ€è¦å°†è¯­éŸ³ä¿¡å·ä»¥30msä¸ºä¸€æ®µåˆ†ä¸ºè‹¥å¹²å¸§æ¥è¿›è¡Œåˆ†æï¼Œåˆ™ä¸¤å¸§èµ·å§‹ç‚¹ä¹‹é—´çš„é—´éš”ä¸º10msã€‚\nçŸ­æ—¶èƒ½é‡ï¼Œæ— å£°\u003cæµŠéŸ³\u003cæ¸…éŸ³\nè¿‡é›¶ç‡ï¼Œæ— å£°\u003cæ¸…éŸ³\u003cæµŠéŸ³\n3.2 ä½¿ç”¨pydubè¿›è¡Œé™éŸ³æ£€æµ‹ ä»£ç é¦–å…ˆä½¿ç”¨AudioSegmentç±»ä»audio.mp3æ–‡ä»¶ä¸­è¯»å–éŸ³é¢‘æ•°æ®ï¼Œç„¶åè®¾ç½®äº†åˆ†å‰²å‚æ•°min_silence_lenã€silence_threshå’Œkeep_silenceã€‚min_silence_lenæ˜¯æœ€å°é™éŸ³é•¿åº¦ï¼Œsilence_threshæ˜¯é™éŸ³é˜ˆå€¼ï¼Œkeep_silenceæ˜¯ä¿ç•™é™éŸ³é•¿åº¦ã€‚è¿™äº›å‚æ•°çš„å…·ä½“å«ä¹‰å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚æœ€åï¼Œæ ¹æ®åˆ†å‰²å‚æ•°ä½¿ç”¨split_on_silenceå‡½æ•°å¯¹éŸ³é¢‘æ–‡ä»¶è¿›è¡Œåˆ†å‰²ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 from pydub import AudioSegment from pydub.silence import split_on_silence # è¯»å–éŸ³é¢‘æ–‡ä»¶ audio = AudioSegment.from_file(\"D:/dataset/lyb01.wav\", format=\"wav\") # è®¾ç½®åˆ†å‰²å‚æ•° min_silence_len = 300 # æœ€å°é™éŸ³é•¿åº¦ silence_thresh = -50 # é™éŸ³é˜ˆå€¼ï¼Œè¶Šå°è¶Šä¸¥æ ¼ keep_silence = 200 # ä¿ç•™é™éŸ³é•¿åº¦ # åˆ†å‰²éŸ³é¢‘æ–‡ä»¶ segments = split_on_silence(audio, min_silence_len=min_silence_len, silence_thresh=silence_thresh, keep_silence=keep_silence) for idx in range(len(segments)): segments[idx].export(f'wav_{idx:04}.wav') 4 æ€»ç»“ é€šè¿‡pydubï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡ŒéŸ³é¢‘ç¼–è§£ç ã€æ··éŸ³ã€é‡é‡‡æ ·ç­‰æ“ä½œï¼Œè¿›ä¸€æ­¥æ‰©å±•äº†pydubçš„åº”ç”¨åœºæ™¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è¿›è¡ŒéŸ³é¢‘æ··éŸ³æ“ä½œæ—¶ï¼Œéœ€è¦ä¿è¯ä¸¤ä¸ªéŸ³é¢‘æ–‡ä»¶çš„é‡‡æ ·ç‡ã€é‡‡æ ·ä½æ•°å’Œå£°é“æ•°ç›¸åŒã€‚\npydubä¼˜ç‚¹ï¼š\nè½»é‡çº§ï¼špydubæ˜¯ä¸€ä¸ªè½»é‡çº§çš„éŸ³é¢‘å¤„ç†åº“ï¼Œå®‰è£…æ–¹ä¾¿ï¼Œä½¿ç”¨ç®€å•ã€‚\nåŠŸèƒ½ä¸°å¯Œï¼špydubæä¾›äº†ä¸°å¯Œçš„éŸ³é¢‘å¤„ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬åˆ‡å‰²ã€åˆå¹¶ã€è½¬æ¢ã€è°ƒæ•´éŸ³é‡ã€ç¼–è§£ç ã€æ··éŸ³ã€é‡é‡‡æ ·ç­‰ã€‚\nåº”ç”¨å¹¿æ³›ï¼špydubçš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼ŒåŒ…æ‹¬éŸ³é¢‘å¤„ç†ã€é“ƒå£°åˆ¶ä½œã€éŸ³é¢‘æ ¼å¼è½¬æ¢ã€è¯­éŸ³è¯†åˆ«ç­‰ç­‰ã€‚\npydubç¼ºç‚¹ï¼š\nå¯¹æ ¼å¼çš„å…¼å®¹æ€§æœ‰é™ï¼špydubå¯¹éŸ³é¢‘æ ¼å¼çš„å…¼å®¹æ€§æœ‰é™ï¼Œä¸æ”¯æŒæ‰€æœ‰çš„éŸ³é¢‘æ ¼å¼ï¼Œéœ€è¦å…ˆå°†éŸ³é¢‘è½¬æ¢ä¸ºæ”¯æŒçš„æ ¼å¼åæ‰èƒ½è¿›è¡Œå¤„ç†ã€‚\næ€§èƒ½ä¸€èˆ¬ï¼špydubåœ¨å¤„ç†å¤§æ–‡ä»¶æ—¶ï¼Œæ€§èƒ½å¯èƒ½ä¼šæ¯”è¾ƒä¸€èˆ¬ï¼Œéœ€è¦è€—è´¹ä¸€å®šçš„æ—¶é—´å’Œè®¡ç®—èµ„æºã€‚ ä¸æ”¯æŒæµå¼å¤„ç†ï¼špydubä¸æ”¯æŒæµå¼å¤„ç†ï¼Œéœ€è¦å°†æ•´ä¸ªéŸ³é¢‘æ–‡ä»¶è¯»å–åˆ°å†…å­˜ä¸­ï¼Œå¯¼è‡´å†…å­˜å ç”¨è¾ƒå¤§ã€‚\npydubæ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œã€åº”ç”¨å¹¿æ³›çš„éŸ³é¢‘å¤„ç†åº“ã€‚åœ¨ä½¿ç”¨pydubæ—¶ï¼Œéœ€è¦æ³¨æ„éŸ³é¢‘æ ¼å¼çš„å…¼å®¹æ€§é—®é¢˜ï¼Œå¹¶æ³¨æ„å¤„ç†å¤§æ–‡ä»¶æ—¶çš„æ€§èƒ½å’Œå†…å­˜å ç”¨ã€‚å¦‚æœéœ€è¦å¤„ç†æ›´å¤æ‚çš„éŸ³é¢‘ä»»åŠ¡ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å…¶ä»–æ›´ä¸“ä¸šçš„éŸ³é¢‘å¤„ç†åº“ã€‚\nMoviePyå…¥é—¨æ•™ç¨‹ Video editing with Python\nzulko.github.io/moviepy/\nMoviePy (online documentationÂ here) is a Python library for video editing: cuts, concatenations, title insertions, video compositing (a.k.a. non-linear editing), video processing, and creation of custom effects.\nMoviePy can read and write all the most common audio and video formats, including GIF, and runs on Windows/Mac/Linux, with Python 3.9+.\nExample In this example we open a video file, select the subclip between 10 and 20 seconds, add a title at the center of the screen, and write the result to a new file:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 from moviepy import VideoFileClip, TextClip, CompositeVideoClip # Load file example.mp4 and keep only the subclip from 00:00:10 to 00:00:20 # Reduce the audio volume to 80% of its original volume clip = ( VideoFileClip(\"long_examples/example2.mp4\") .subclipped(10, 20) .with_volume_scaled(0.8) ) # Generate a text clip. You can customize the font, color, etc. txt_clip = TextClip( font=\"Arial.ttf\", text=\"Hello there!\", font_size=70, color='white' ).with_duration(10).with_position('center') # Overlay the text clip on the first video clip final_video = CompositeVideoClip([clip, txt_clip]) final_video.write_videofile(\"result.mp4\") How MoviePy works Under the hood, MoviePy imports media (video frames, images, sounds) and converts them into Python objects (numpy arrays) so that every pixel becomes accessible, and video or audio effects can be defined in just a few lines of code (see theÂ built-in effectsÂ for examples).\nThe library also provides ways to mix clips together (concatenations, playing clips side by side or on top of each other with transparency, etc.). The final clip is then encoded back into mp4/webm/gif/etc.\nThis makes MoviePy very flexible and approachable, albeit slower than using ffmpeg directly due to heavier data import/export operations.\nInstallation Intall moviepy withÂ pip install moviepy. For additional installation options, such as a custom FFMPEG or for previewing, seeÂ this section. For development, clone that repo locally and install withÂ pip install -e .\nDocumentation The online documentation (here) is automatically built at every push to the master branch. To build the documentation locally, install the extra dependencies viaÂ pip install moviepy[doc], then go to theÂ docsÂ folder and runÂ make html.\nmoviepyï¼Œä¸€ä¸ªè¶…é…·çš„ Python åº“ï¼ æ–‡ç« æ¥æº\n","wordCount":"5323","inLanguage":"zh","datePublished":"2025-02-07T18:34:25+08:00","dateModified":"2025-02-07T22:54:22+08:00","author":{"@type":"Person","name":"RM"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rosefinch-midsummer.github.io/zh/posts/life/%E4%BD%BF%E7%94%A8python%E6%8A%8Amp4%E6%96%87%E4%BB%B6%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2%E4%B8%BAmp3%E6%96%87%E4%BB%B6/"},"publisher":{"@type":"Organization","name":"å¤©æ¼¢å¸åœ‹å¾©èˆˆéŒ„","logo":{"@type":"ImageObject","url":"https://rosefinch-midsummer.github.io/img/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://rosefinch-midsummer.github.io/zh/ accesskey=h title="å¤©æ¼¢å¸åœ‹å¾©èˆˆéŒ„ (Alt + H)">å¤©æ¼¢å¸åœ‹å¾©èˆˆéŒ„</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://rosefinch-midsummer.github.io/zh/ title=ğŸ ä¸»é ><span>ğŸ ä¸»é </span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/posts title=ğŸ“šæ–‡ç« ><span>ğŸ“šæ–‡ç« </span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/search title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/archives title=â±æ™‚é–“è»¸><span>â±æ™‚é–“è»¸</span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/categories title=ğŸ§©åˆ†é¡><span>ğŸ§©åˆ†é¡</span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/tags title=ğŸ”–æ¨™ç°½><span>ğŸ”–æ¨™ç°½</span></a></li><li><a href=https://rosefinch-midsummer.github.io/zh/about title=ğŸ™‹ğŸ»â€â™‚ï¸é—œäº><span>ğŸ™‹ğŸ»â€â™‚ï¸é—œäº</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://rosefinch-midsummer.github.io/zh/>é¦–é </a>&nbsp;Â»&nbsp;<a href=https://rosefinch-midsummer.github.io/zh/posts/>ğŸ“šæ–‡ç« </a>&nbsp;Â»&nbsp;<a href=https://rosefinch-midsummer.github.io/zh/posts/life/>ğŸ–ç”Ÿæ´»</a></div><h1 class=post-title>ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶</h1><div class=post-meta>åˆ›å»º: 2025-02-07 |
æ›´æ–°: 2025-02-07 |
å­—æ•°: 5323å­— |
æ—¶é•¿: 11åˆ†é’Ÿ |
RM</div><div class=meta-item>&nbspÂ·&nbsp
<span id=busuanzi_container_page_pv>æœ¬æ–‡é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®éŒ„</span></summary><div class=inner><ul><li><a href=#%e4%bd%bf%e7%94%a8python%e6%8a%8amp4%e6%96%87%e4%bb%b6%e6%89%b9%e9%87%8f%e8%bd%ac%e6%8d%a2%e4%b8%bamp3%e6%96%87%e4%bb%b6 aria-label=ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶>ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶</a><ul><li><a href=#%e4%bd%bf%e7%94%a8pydub aria-label=ä½¿ç”¨PyDub>ä½¿ç”¨PyDub</a></li><li><a href=#%e4%bd%bf%e7%94%a8moviepy aria-label=ä½¿ç”¨MoviePy>ä½¿ç”¨MoviePy</a></li></ul></li><li><a href=#%e6%9c%80%e6%96%b0windows%e7%94%b5%e8%84%91ffmpeg%e5%ae%89%e8%a3%85%e6%95%99%e7%a8%8b%e6%89%8b%e6%8a%8a%e6%89%8b%e8%af%a6%e8%a7%a3 aria-label=ã€æœ€æ–°ã€‘windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£>ã€æœ€æ–°ã€‘windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£</a></li><li><a href=#pydub%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b aria-label=PyDubå…¥é—¨æ•™ç¨‹>PyDubå…¥é—¨æ•™ç¨‹</a><ul><li><a href=#1-pydub%e5%ae%89%e8%a3%85 aria-label="1 pydubå®‰è£…">1 pydubå®‰è£…</a></li><li><a href=#2--pydub%e6%a8%a1%e5%9d%97%e4%bd%bf%e7%94%a8 aria-label="2  pydubæ¨¡å—ä½¿ç”¨">2 pydubæ¨¡å—ä½¿ç”¨</a><ul><li><a href=#21-%e6%89%93%e5%bc%80%e9%9f%b3%e9%a2%91%e6%96%87%e4%bb%b6 aria-label="2.1 æ‰“å¼€éŸ³é¢‘æ–‡ä»¶">2.1 æ‰“å¼€éŸ³é¢‘æ–‡ä»¶</a></li><li><a href=#22-%e5%af%bc%e5%87%ba%e9%9f%b3%e9%a2%91%e6%96%87%e4%bb%b6 aria-label="2.2 å¯¼å‡ºéŸ³é¢‘æ–‡ä»¶">2.2 å¯¼å‡ºéŸ³é¢‘æ–‡ä»¶</a></li><li><a href=#23-%e5%88%9b%e5%bb%ba%e9%9f%b3%e9%a2%91%e6%96%87%e4%bb%b6 aria-label="2.3 åˆ›å»ºéŸ³é¢‘æ–‡ä»¶">2.3 åˆ›å»ºéŸ³é¢‘æ–‡ä»¶</a></li><li><a href=#24-%e5%90%88%e5%b9%b6%e9%9f%b3%e9%a2%91%e6%96%87%e4%bb%b6 aria-label="2.4 åˆå¹¶éŸ³é¢‘æ–‡ä»¶">2.4 åˆå¹¶éŸ³é¢‘æ–‡ä»¶</a></li><li><a href=#25-%e9%9f%b3%e9%a2%91%e6%96%87%e4%bb%b6%e4%bf%a1%e6%81%af aria-label="2.5 éŸ³é¢‘æ–‡ä»¶ä¿¡æ¯">2.5 éŸ³é¢‘æ–‡ä»¶ä¿¡æ¯</a></li><li><a href=#26-%e5%a4%84%e7%90%86%e9%9f%b3%e9%a2%91%e6%96%87%e4%bb%b6 aria-label="2.6 å¤„ç†éŸ³é¢‘æ–‡ä»¶">2.6 å¤„ç†éŸ³é¢‘æ–‡ä»¶</a></li><li><a href=#27-%e6%92%ad%e6%94%be%e9%9f%b3%e9%a2%91%e6%96%87%e4%bb%b6 aria-label="2.7 æ’­æ”¾éŸ³é¢‘æ–‡ä»¶">2.7 æ’­æ”¾éŸ³é¢‘æ–‡ä»¶</a></li><li><a href=#28-%e5%88%86%e5%89%b2%e9%9f%b3%e9%a2%91 aria-label="2.8 åˆ†å‰²éŸ³é¢‘">2.8 åˆ†å‰²éŸ³é¢‘</a></li></ul></li><li><a href=#3-%e4%bd%bf%e7%94%a8pydub%e6%a0%b9%e6%8d%ae%e9%9d%99%e9%9f%b3%e5%88%86%e5%89%b2%e9%9f%b3%e9%a2%91 aria-label="3 ä½¿ç”¨pydubæ ¹æ®é™éŸ³åˆ†å‰²éŸ³é¢‘">3 ä½¿ç”¨pydubæ ¹æ®é™éŸ³åˆ†å‰²éŸ³é¢‘</a><ul><li><a href=#31-%e9%9d%99%e9%9f%b3%e6%a3%80%e6%b5%8b%e5%8e%9f%e7%90%86 aria-label="3.1 é™éŸ³æ£€æµ‹åŸç†">3.1 é™éŸ³æ£€æµ‹åŸç†</a></li><li><a href=#32-%e4%bd%bf%e7%94%a8pydub%e8%bf%9b%e8%a1%8c%e9%9d%99%e9%9f%b3%e6%a3%80%e6%b5%8b aria-label="3.2 ä½¿ç”¨pydubè¿›è¡Œé™éŸ³æ£€æµ‹">3.2 ä½¿ç”¨pydubè¿›è¡Œé™éŸ³æ£€æµ‹</a></li></ul></li><li><a href=#4-%e6%80%bb%e7%bb%93 aria-label="4 æ€»ç»“">4 æ€»ç»“</a></li></ul></li><li><a href=#moviepy%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b aria-label=MoviePyå…¥é—¨æ•™ç¨‹>MoviePyå…¥é—¨æ•™ç¨‹</a><ul><li><a href=#example aria-label=Example>Example</a></li><li><a href=#how-moviepy-works aria-label="How MoviePy works">How MoviePy works</a></li><li><a href=#installation aria-label=Installation>Installation</a></li><li><a href=#documentation aria-label=Documentation>Documentation</a></li><li><a href=#moviepy%e4%b8%80%e4%b8%aa%e8%b6%85%e9%85%b7%e7%9a%84-python-%e5%ba%93 aria-label="moviepyï¼Œä¸€ä¸ªè¶…é…·çš„ Python åº“ï¼">moviepyï¼Œä¸€ä¸ªè¶…é…·çš„ Python åº“ï¼</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=ä½¿ç”¨pythonæŠŠmp4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºmp3æ–‡ä»¶>ä½¿ç”¨PythonæŠŠMP4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºMP3æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨pythonæŠŠmp4æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºmp3æ–‡ä»¶>#</a></h1><p>å‰æï¼šæœ¬åœ°å®‰è£…ffmpegï¼Œå¯ä»¥é€‰æ‹©å®‰è£…pydubæˆ–æ˜¯moviepy</p><p>ä½¿ç”¨Pythonè°ƒç”¨ffmpegéœ€è¦å®‰è£…ffmpeg-python</p><h2 id=ä½¿ç”¨pydub>ä½¿ç”¨PyDub<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨pydub>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydub</span> <span class=kn>import</span> <span class=n>AudioSegment</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>convert_mp4_to_mp3</span><span class=p>(</span><span class=n>directory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>filename</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=n>directory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>filename</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s1>&#39;.mp4&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>mp4_file_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>directory</span><span class=p>,</span> <span class=n>filename</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>mp3_file_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitext</span><span class=p>(</span><span class=n>mp4_file_path</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=s1>&#39;.mp3&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># ä½¿ç”¨ pydub è½¬æ¢ mp4 ä¸º mp3</span>
</span></span><span class=line><span class=cl>                <span class=n>audio</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=n>mp4_file_path</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;mp4&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>audio</span><span class=o>.</span><span class=n>export</span><span class=p>(</span><span class=n>mp3_file_path</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;mp3&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c1># åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶</span>
</span></span><span class=line><span class=cl>                <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>mp4_file_path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Converted </span><span class=si>{</span><span class=n>mp4_file_path</span><span class=si>}</span><span class=s2> to </span><span class=si>{</span><span class=n>mp3_file_path</span><span class=si>}</span><span class=s2> and deleted original mp4 file.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Error processing </span><span class=si>{</span><span class=n>mp4_file_path</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1># è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½•</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>target_directory</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;E:\Entertainment\100s&#39;</span>
</span></span><span class=line><span class=cl><span class=n>convert_mp4_to_mp3</span><span class=p>(</span><span class=n>target_directory</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=ä½¿ç”¨moviepy>ä½¿ç”¨MoviePy<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨moviepy>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>  
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>moviepy.editor</span> <span class=kn>import</span> <span class=n>VideoFileClip</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>convert_mp4_to_mp3</span><span class=p>(</span><span class=n>directory</span><span class=p>):</span>  
</span></span><span class=line><span class=cl>    <span class=c1># éå†ç›®å½•  </span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>filename</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=n>directory</span><span class=p>):</span>  
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>filename</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s1>&#39;.mp4&#39;</span><span class=p>):</span>  
</span></span><span class=line><span class=cl>            <span class=n>mp4_file_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>directory</span><span class=p>,</span> <span class=n>filename</span><span class=p>)</span>  
</span></span><span class=line><span class=cl>            <span class=n>mp3_file_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitext</span><span class=p>(</span><span class=n>mp4_file_path</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=s1>&#39;.mp3&#39;</span>  
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>try</span><span class=p>:</span>  
</span></span><span class=line><span class=cl>                <span class=c1># ä½¿ç”¨ moviepy è½¬æ¢è§†é¢‘ä¸ºéŸ³é¢‘  </span>
</span></span><span class=line><span class=cl>                <span class=n>video_clip</span> <span class=o>=</span> <span class=n>VideoFileClip</span><span class=p>(</span><span class=n>mp4_file_path</span><span class=p>)</span>  
</span></span><span class=line><span class=cl>                <span class=n>video_clip</span><span class=o>.</span><span class=n>audio</span><span class=o>.</span><span class=n>write_audiofile</span><span class=p>(</span><span class=n>mp3_file_path</span><span class=p>)</span>  
</span></span><span class=line><span class=cl>                <span class=n>video_clip</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>  
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1># åˆ é™¤åŸæœ‰çš„ mp4 æ–‡ä»¶  </span>
</span></span><span class=line><span class=cl>                <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>mp4_file_path</span><span class=p>)</span>  
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Converted </span><span class=si>{</span><span class=n>mp4_file_path</span><span class=si>}</span><span class=s2> to </span><span class=si>{</span><span class=n>mp3_file_path</span><span class=si>}</span><span class=s2> and deleted original mp4 file.&#34;</span><span class=p>)</span>  
</span></span><span class=line><span class=cl>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>  
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Error processing </span><span class=si>{</span><span class=n>mp4_file_path</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è®¾ç½®ä½ çš„ç›®æ ‡ç›®å½•  </span>
</span></span><span class=line><span class=cl><span class=n>target_directory</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;E:\Entertainment\åŒ—æµå˜‰æª&#39;</span>  
</span></span><span class=line><span class=cl><span class=n>convert_mp4_to_mp3</span><span class=p>(</span><span class=n>target_directory</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=æœ€æ–°windowsç”µè„‘ffmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£>ã€æœ€æ–°ã€‘windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£<a hidden class=anchor aria-hidden=true href=#æœ€æ–°windowsç”µè„‘ffmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£>#</a></h1><p><a href=https://blog.csdn.net/csdn_yudong/article/details/129182648>windowsç”µè„‘FFmpegå®‰è£…æ•™ç¨‹æ‰‹æŠŠæ‰‹è¯¦è§£æ•™ç¨‹æ¥æº</a></p><p>æœ¬æ–‡ä»¥ Windows 64 ä½æ“ä½œç³»ç»Ÿä¸ºä¾‹æ¼”ç¤º</p><p>ä¸€ã€ä¸‹è½½&è§£å‹</p><p>æ‰“å¼€ <a href=https://ffmpeg.org/download.html>FFmpeg å®˜ç½‘</a>ï¼Œé€‰æ‹©ä¸‹è½½ã€‚</p><p>é€‰æ‹© Windows å¹³å°ï¼Œä¸‹é¢æœ‰ä¸¤ä¸ªé“¾æ¥ï¼Œéƒ½æ˜¯å¯ä»¥çš„ï¼Œé€‰æ‹©å…¶ä¸€ã€‚</p><p><img alt=w loading=lazy src=https://i-blog.csdnimg.cn/blog_migrate/6da51ed4b2b46716f2164b25fd7cd48e.png></p><p>æœ¬æ–‡ä»¥ç‚¹å‡»ç¬¬ä¸€ä¸ªé“¾æ¥ä¸ºä¾‹ï¼Œè¿›å»ä»¥åï¼Œé€‰æ‹©å·¦è¾¹çš„ release builds ï¼Œå³è¾¹å‡ºç°å¦‚ä¸‹å†…å®¹ï¼š</p><p><img alt=a loading=lazy src=https://i-blog.csdnimg.cn/blog_migrate/4c4679bc18672d25d6f2d371d95733bc.png></p><p>ä½ å¯ä»¥é€‰æ‹©ä¸‹è½½ä¸Šé¢çº¢è‰²åœˆä¸­çš„ release-full ç‰ˆæœ¬ï¼Œæˆ–è€…é€‰æ‹©ä¸‹é¢çº¢è‰²åœˆä¸­çš„å‰ä¸€ä¸ªç¨³å®šç‰ˆæœ¬ xxx-full_buildã€‚</p><p>release-full ç‰ˆæœ¬ä¼šæ¯”ä¸‹é¢çš„ xxx-full_build ç‰ˆæœ¬æ›´æ–°ï¼Œé€‰æ‹©å“ªä¸€ä¸ªéƒ½å¯ä»¥ï¼Œçœ‹ä½ ä¸ªäººå–œå¥½ã€‚</p><p>è‡³äºä½ æ˜¯æƒ³é€‰æ‹©å¸¦ shared çš„è¿˜æ˜¯ä¸å¸¦ shared çš„ç‰ˆæœ¬ï¼Œå…¶å®éƒ½æ˜¯å¯ä»¥çš„ã€‚å› ä¸ºåŒä¸€ä¸ªç‰ˆæœ¬å¸¦ shared çš„å’Œä¸å¸¦ shared çš„ï¼ŒåŠŸèƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚</p><p>å¸¦ shared çš„é‡Œé¢ï¼Œå¤šäº† includeã€lib ç›®å½•ã€‚æŠŠ FFmpeg ä¾èµ–çš„æ¨¡å—åŒ…å•ç‹¬çš„æ”¾åœ¨çš„ lib ç›®å½•ä¸­ã€‚ffmpeg.exeï¼Œffplay.exeï¼Œffprobe.exe ä½œä¸ºå¯æ‰§è¡Œæ–‡ä»¶çš„å…¥å£ï¼Œæ–‡ä»¶ä½“ç§¯å¾ˆå°ï¼Œä»–ä»¬åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå¦‚æœéœ€è¦ï¼Œä¼šåˆ° lib ä¸­è°ƒç”¨ç›¸åº”çš„åŠŸèƒ½ã€‚</p><p>ä¸å¸¦ shared çš„é‡Œé¢ï¼Œbin ç›®å½•ä¸­æœ‰ ffmpeg.exeï¼Œffplay.exeï¼Œffprobe.exe ä¸‰ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ¯ä¸ª exe çš„ä½“ç§¯éƒ½ç¨å¤§ä¸€ç‚¹ï¼Œå› ä¸ºå®ƒå·²ç»æŠŠç›¸å…³çš„éœ€è¦ç”¨çš„æ¨¡å—åŒ…ç¼–è¯‘åˆ°exeé‡Œé¢å»äº†ã€‚</p><p><img alt=a loading=lazy src=https://i-blog.csdnimg.cn/blog_migrate/70582f712c57edf6dc3e58de104ac028.png></p><p>è§£å‹ä»¥åçš„å†…å®¹ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼›è¿›å…¥ bin ç›®å½•ï¼Œå¤åˆ¶ bin ç›®å½•è·¯å¾„ã€‚</p><p><img alt=a loading=lazy src=https://i-blog.csdnimg.cn/blog_migrate/665ad5f45c6dddc292e0aaf5e5fad8c5.png></p><p>äºŒã€é…ç½®ç¯å¢ƒå˜é‡</p><p>1ã€é…ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡</p><p>1ã€åœ¨ç”µè„‘æ¡Œé¢ä¸Šï¼Œæ‰“å¼€æˆ‘çš„ç”µè„‘</p><p>2ã€åœ¨ç©ºç™½å¤„ï¼Œå³é”®ï¼Œé€‰æ‹©å±æ€§</p><p>3ã€é€‰æ‹© é«˜çº§ç³»ç»Ÿè®¾ç½® -> é«˜çº§ -> ç¯å¢ƒå˜é‡</p><p>4ã€åœ¨ç³»ç»Ÿå˜é‡ä¸­ï¼Œé€‰æ‹© Pathï¼Œç„¶åç¼–è¾‘ï¼š</p><p>5ã€ç„¶ååœ¨å‡ºæ¥çš„ç¼–è¾‘ç¯å¢ƒå˜é‡è¡¨ä¸­ï¼Œæ–°å»ºä¸€ä¸ªï¼Œå°†åˆšæ‰å¤åˆ¶çš„ bin ç›®å½•è·¯å¾„ç²˜è´´è¿›å»ï¼Œä¿å­˜å³å¯ã€‚</p><p>ä¸‰ã€éªŒè¯</p><p>é‡æ–°æ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œè¾“å…¥ï¼š ffmpeg -versionï¼Œæœ‰ç‰ˆæœ¬ä¿¡æ¯è¾“å‡ºï¼Œåˆ™è¯æ˜é…ç½®æˆåŠŸï¼ï¼</p><p>æ‰§è¡ŒPythonä»£ç éœ€è¦é‡å¯PyCharmã€‚</p><p>é¢å¤–è¡¥å……</p><p>å¯¹äº windows ç”µè„‘å¯ä»¥å°†è§£å‹æ–‡ä»¶æ”¾åˆ°ç³»ç»Ÿçš„ system32 ç›®å½•ä¸­å»ï¼Œå°±ä¸ç”¨é…ç½®ç¯å¢ƒå˜é‡äº†ã€‚</p><h1 id=pydubå…¥é—¨æ•™ç¨‹>PyDubå…¥é—¨æ•™ç¨‹<a hidden class=anchor aria-hidden=true href=#pydubå…¥é—¨æ•™ç¨‹>#</a></h1><p><a href=https://blog.csdn.net/lsb2002/article/details/135610159>PythonéŸ³é¢‘å¤„ç†åˆ©å™¨ï¼špydubè¯¦è§£</a></p><p>Pydub æ˜¯ä¸€ä¸ªç”¨ Python ç¼–å†™çš„éŸ³é¢‘å¤„ç†åº“ï¼Œå®ƒå¯ä»¥æ–¹ä¾¿åœ°å¤„ç†è®¸å¤šéŸ³é¢‘æ–‡ä»¶ï¼Œè¯¸å¦‚åˆ†å‰²ã€åˆå¹¶ã€æ ¼å¼è½¬æ¢ã€éŸ³é‡è°ƒèŠ‚ç­‰ã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>ä¸»è¦ä½¿ç”¨ ffmpeg å’Œ libav æ¨¡å—æ¥å®ç°éŸ³é¢‘çš„è¯»å–ã€å¤„ç†å’Œè¾“å‡ºã€‚</li><li>æ”¯æŒçš„éŸ³é¢‘æ ¼å¼éå¸¸å¹¿æ³›ï¼ŒåŒ…æ‹¬ MP3ã€WAVã€FLACã€MP4 ç­‰ã€‚</li><li>API ç®€å•æ˜“ç”¨ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œå¸¸ç”¨çš„éŸ³é¢‘å¤„ç†æ“ä½œã€‚</li></ul><p>Pydub æ˜¯ä¸€ä¸ªè½»é‡çº§ã€å¿«é€Ÿä¸”æ˜“äºä½¿ç”¨çš„åº“ã€‚silenceåº“æ˜¯pydubçš„ä¸€ä¸ªæ‰©å±•åº“ï¼Œå¯ä»¥åœ¨éŸ³é¢‘æ–‡ä»¶ä¸­æ ¹æ®é™é»˜éƒ¨åˆ†è¿›è¡Œåˆ†å‰²ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><h2 id=1-pydubå®‰è£…>1 pydubå®‰è£…<a hidden class=anchor aria-hidden=true href=#1-pydubå®‰è£…>#</a></h2><p>å®‰è£… Pydub çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ pipï¼Œåªéœ€åœ¨å‘½ä»¤è¡Œä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pip install pydub
</span></span></code></pre></td></tr></table></div></div><p>ä¾èµ–ï¼šéœ€å®‰è£…ffmpegæˆ–è€…libav</p><p>å¦‚æœ ffmpeg æˆ– libav æœªå®‰è£…ï¼Œåˆ™è¿˜éœ€è¦åœ¨ç³»ç»Ÿä¸­å®‰è£…ç›¸å…³ä¾èµ–åº“ã€‚</p><h2 id=2--pydubæ¨¡å—ä½¿ç”¨>2 pydubæ¨¡å—ä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#2--pydubæ¨¡å—ä½¿ç”¨>#</a></h2><p>è¯»å–éŸ³é¢‘æ–‡ä»¶éå¸¸ç®€å•ï¼Œåªéœ€ä½¿ç”¨ AudioSegment.from_file() å‡½æ•°å³å¯ã€‚ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•è¯»å–åä¸º &ldquo;soundfile.mp3&rdquo; çš„ MP3 æ–‡ä»¶ï¼š</p><h3 id=21-æ‰“å¼€éŸ³é¢‘æ–‡ä»¶>2.1 æ‰“å¼€éŸ³é¢‘æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#21-æ‰“å¼€éŸ³é¢‘æ–‡ä»¶>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydub</span> <span class=kn>import</span> <span class=n>AudioSegment</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># æ‰“å¼€wavæ ¼å¼éŸ³é¢‘æ–‡ä»¶</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_wav</span><span class=p>(</span><span class=s1>&#39;./soundfile.wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># æ‰“å¼€mp3éŸ³é¢‘æ–‡ä»¶ï¼ŒAudioSegmentåŸç”Ÿåªæ”¯æŒwavï¼Œrawæ–‡ä»¶ï¼Œå®‰è£…ffmpegå¯æ”¯æŒå…¶æ‰€æœ‰æ ¼å¼</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_mp3</span><span class=p>(</span><span class=s1>&#39;./soundfile.mp3&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># æ‰“å¼€éŸ³é¢‘æ–‡ä»¶ï¼Œç”ŸæˆAudioSegmentå¯¹è±¡</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s1>&#39;./soundfile.mp3&#39;</span><span class=p>)</span>	<span class=c1># formaté»˜è®¤å€¼ä¸º&#34;mp3&#34;</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s1>&#39;./soundfile.wav&#39;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># æ‰“å¼€rawæ–‡ä»¶éœ€è¦é¢å¤–å‚æ•°ï¼Œsample_widthï¼ˆé‡‡æ ·ä½æ•°ï¼‰ï¼Œframe_rateï¼ˆé‡‡æ ·é¢‘ç‡ï¼‰ï¼Œchannelsï¼ˆå£°é€šé“ï¼‰</span>
</span></span><span class=line><span class=cl><span class=c1># sample_width: 1ã€8bitï¼Œ2ã€16bitï¼Œ3ã€32bit</span>
</span></span><span class=line><span class=cl><span class=c1># frame_rate: 44100(44.1kHz CD audio), 48000(48kHz DVD audio)</span>
</span></span><span class=line><span class=cl><span class=c1># channels: 1ã€å•å£°é“ï¼Œ2ã€ç«‹ä½“å£°</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s1>&#39;./soundfile.raw&#39;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;raw&#39;</span><span class=p>,</span> <span class=n>frame_rate</span><span class=o>=</span><span class=mi>44100</span><span class=p>,</span> <span class=n>channels</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>sample_width</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=22-å¯¼å‡ºéŸ³é¢‘æ–‡ä»¶>2.2 å¯¼å‡ºéŸ³é¢‘æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#22-å¯¼å‡ºéŸ³é¢‘æ–‡ä»¶>#</a></h3><p>è¦å°† AudioSegment å¯¹è±¡ä¿å­˜ä¸ºéŸ³é¢‘æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ export() å‡½æ•°ã€‚ä»¥ä¸‹ç¤ºä¾‹å°†ä¸Šè¿°è¯»å–çš„éŸ³é¢‘è¾“å‡ºä¸ºåä¸º &ldquo;outputsoundfile.mp3&rdquo; çš„ mp3æ–‡ä»¶ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s1>&#39;./soundfile.wav&#39;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># å¯¼å‡ºéŸ³é¢‘æ–‡ä»¶</span>
</span></span><span class=line><span class=cl><span class=n>sound</span><span class=o>.</span><span class=n>export</span><span class=p>(</span><span class=s1>&#39;./outputsoundfile.mp3&#39;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;mp3&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=23-åˆ›å»ºéŸ³é¢‘æ–‡ä»¶>2.3 åˆ›å»ºéŸ³é¢‘æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#23-åˆ›å»ºéŸ³é¢‘æ–‡ä»¶>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ç”Ÿæˆä¸€ä¸ªæ—¶é—´é•¿åº¦ä¸º0ç§’çš„AudioSegmentå¯¹è±¡ï¼Œä¸€èˆ¬ç”¨äºå¤šä¸ªéŸ³é¢‘åˆå¹¶</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>empty</span><span class=p>()</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># ç”Ÿæˆä¸€ä¸ªæ—¶é—´é•¿åº¦ä¸º5ç§’çš„æ— å£°AduioSegmentå¯¹è±¡</span>
</span></span><span class=line><span class=cl><span class=c1># å‚æ•°duration:æ—¶é—´é•¿åº¦ï¼ˆæ¯«ç§’ï¼‰ï¼Œframe_rate:é¢‘ç‡ï¼Œé»˜è®¤ä¸º11025Hz</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>silent</span><span class=p>(</span><span class=n>duration</span><span class=o>=</span><span class=mi>50000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=24-åˆå¹¶éŸ³é¢‘æ–‡ä»¶>2.4 åˆå¹¶éŸ³é¢‘æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#24-åˆå¹¶éŸ³é¢‘æ–‡ä»¶>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ä¸¤ä¸ªå•å£°é“éŸ³é¢‘åˆå¹¶ä¸ºä¸€ä¸ªå¤šå£°é“éŸ³é¢‘</span>
</span></span><span class=line><span class=cl><span class=n>left_channel</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_wav</span><span class=p>(</span><span class=s1>&#39;sound_left.wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>right_channel</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_wav</span><span class=p>(</span><span class=s1>&#39;sound_right.wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>stereo_sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_mono_auidosegments</span><span class=p>(</span><span class=n>left_channel</span><span class=p>,</span><span class=n>right_channel</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># å°†å¤šå£°é“éŸ³é¢‘åˆ†è§£æˆä¸¤ä¸ªå•å£°é“</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_wav</span><span class=p>(</span><span class=s1>&#39;sound.wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>sound</span><span class=o>.</span><span class=n>split_to_mono</span><span class=p>()</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># ä¸¤ä¸ªéŸ³é¢‘æ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶</span>
</span></span><span class=line><span class=cl><span class=n>sound1</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s1>&#39;sound1.wav&#39;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>sound2</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s1>&#39;sound2.wav&#39;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># æ— äº¤å‰æ·¡å…¥æ·¡å‡º</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>sound1</span> <span class=o>+</span> <span class=n>sound2</span>
</span></span><span class=line><span class=cl><span class=c1># OR</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>sound1</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>sound2</span><span class=p>,</span> <span class=n>crossfade</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># æ·¡å…¥æ·¡å‡ºï¼Œå‚æ•°crossfade:æ•ˆæœæŒç»­æ—¶é—´ï¼Œé»˜è®¤100æ¯«ç§’</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>sound1</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>sound2</span><span class=p>,</span> <span class=n>crossfade</span><span class=o>=</span><span class=mi>100</span><span class=p>)</span> 
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># ä¸¤ä¸ªéŸ³é¢‘æ–‡ä»¶å åŠ ä¸ºä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶</span>
</span></span><span class=line><span class=cl><span class=c1># ä¾‹ï¼Œé•¿éŸ³é¢‘sound1ï¼Œ30s</span>
</span></span><span class=line><span class=cl><span class=n>sound1</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s1>&#39;sound1.wav&#39;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># ä¾‹ï¼ŒçŸ­éŸ³é¢‘sound2ï¼Œ10s</span>
</span></span><span class=line><span class=cl><span class=n>sound2</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s1>&#39;sound2.wav&#39;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># å°†sound2å åŠ è‡³sound1ä¸Šï¼Œå‚æ•°postions:ä»sound1éŸ³é¢‘10ç§’å¤„å¼€å§‹å åŠ ï¼Œé»˜è®¤ä¸º0ï¼Œå¾—åˆ°çš„éŸ³é¢‘æ–‡ä»¶ï¼Œä¼šä»10ç§’å¤„å¼€å§‹å‡ºç°sound2éŸ³é¢‘ï¼Œ20ç§’å¤„sound2éŸ³é¢‘ç»“æŸï¼Œåªä½™sound1éŸ³é¢‘</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>sound1</span><span class=o>.</span><span class=n>overlay</span><span class=p>(</span><span class=n>sound2</span><span class=p>,</span> <span class=n>postions</span><span class=o>=</span><span class=mi>10000</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># å°†sound2å åŠ è‡³sound1ä¸Šï¼Œå‚æ•°loop:å¼€å¯å¾ªç¯ï¼Œé»˜è®¤ä¸ºFasleï¼Œå¾—åˆ°çš„éŸ³é¢‘æ–‡ä»¶sound2å°†ä¼šå¾ªç¯æ’­æ”¾è‡³sound1ç»“æŸ</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>sound1</span><span class=o>.</span><span class=n>overlay</span><span class=p>(</span><span class=n>sound2</span><span class=p>,</span> <span class=n>loop</span><span class=o>=</span><span class=n>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># å°†sound2å åŠ è‡³sound1ä¸Šï¼Œå‚æ•°times:é‡å¤æ¬¡æ•°ï¼Œé»˜è®¤ä¸º1ï¼Œå¾—åˆ°çš„éŸ³é¢‘æ–‡ä»¶sound2å°†ä¼šé‡å¤ä¸¤æ¬¡ï¼Œåœ¨ä¸¤ä¸ªsound2çš„æ—¶é—´ç»“æŸsound2éŸ³é¢‘</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>sound1</span><span class=o>.</span><span class=n>overlay</span><span class=p>(</span><span class=n>sound2</span><span class=p>,</span> <span class=n>times</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># å°†sound1å åŠ è‡³sound2ä¸Šï¼Œ10ç§’åsound2éŸ³é¢‘ç»“æŸï¼Œsound1éŸ³é¢‘æˆªæ–­è‡³10sç»“æŸï¼Œæœ€ç»ˆè¯¥éŸ³é¢‘é•¿åº¦åªæœ‰10sï¼Œå³</span>
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>sound2</span><span class=o>.</span><span class=n>overlay</span><span class=p>(</span><span class=n>sound1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>len</span><span class=p>(</span><span class=n>sound</span><span class=p>)</span> <span class=o>==</span> <span class=n>sound2</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=25-éŸ³é¢‘æ–‡ä»¶ä¿¡æ¯>2.5 éŸ³é¢‘æ–‡ä»¶ä¿¡æ¯<a hidden class=anchor aria-hidden=true href=#25-éŸ³é¢‘æ–‡ä»¶ä¿¡æ¯>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s1>&#39;soundfile.wav&#39;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># å£°é“æ•°</span>
</span></span><span class=line><span class=cl><span class=n>schannel</span> <span class=o>=</span> <span class=n>sound</span><span class=o>.</span><span class=n>channels</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># é‡‡æ ·ä½æ•°ï¼Œä¹Ÿç§°ä½æ·±åº¦ï¼Œæ˜¯æŒ‡æ¯ä¸ªé‡‡æ ·æ ·æœ¬æ‰€åŒ…å«çš„ä½æ•°ï¼ˆå­—èŠ‚æ•°ï¼‰ï¼Œé€šå¸¸æœ‰8 bitã€16 bit</span>
</span></span><span class=line><span class=cl><span class=n>sbytes</span> <span class=o>=</span> <span class=n>sound</span><span class=o>.</span><span class=n>sample_width</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># é‡‡æ ·é¢‘ç‡ï¼Œä¹Ÿç§°é‡‡æ ·ç‡ï¼Œæ˜¯æŒ‡åœ¨å•ä½æ—¶é—´å†…å¯¹å£°éŸ³ä¿¡å·çš„é‡‡æ ·æ•°æˆ–æ ·æœ¬æ•°ï¼Œé‡‡æ ·é¢‘ç‡è¶Šèƒ½é«˜è¡¨ç°çš„é¢‘ç‡èŒƒå›´è¶Šå¤§ï¼ˆç”µè¯ï¼š8kHZï¼Œæ— çº¿ç”µå¹¿æ’­ï¼š22.05kHzï¼ŒCDï¼š44.1kHzï¼ŒDVDï¼š48kHZï¼Œè“å…‰ï¼š96kHzï¼Œ192kHzï¼‰</span>
</span></span><span class=line><span class=cl><span class=n>srate</span> <span class=o>=</span> <span class=n>sound</span><span class=o>.</span><span class=n>frame_rate</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># å¸§ä½æ•°, å¸§åŒ…å«æ¯ä¸ªå£°é“çš„é‡‡æ ·ä½æ•°frame_width = channels * sample_width</span>
</span></span><span class=line><span class=cl><span class=n>sframebytes</span> <span class=o>=</span> <span class=n>sound</span><span class=o>.</span><span class=n>frame_width</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># éŸ³é¢‘æ–‡ä»¶å¸§æ•°, å¯é€‰å‚æ•°ms:æ—¶é—´é•¿åº¦ï¼Œé»˜è®¤None</span>
</span></span><span class=line><span class=cl><span class=n>sframe</span> <span class=o>=</span> <span class=n>sound</span><span class=o>.</span><span class=n>frame_count</span><span class=p>()</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># éŸ³é¢‘æ–‡ä»¶æ—¶é•¿ï¼Œå•ä½ç§’</span>
</span></span><span class=line><span class=cl><span class=n>stime</span> <span class=o>=</span> <span class=n>sound</span><span class=o>.</span><span class=n>duration_seconds</span>
</span></span><span class=line><span class=cl><span class=c1># OR</span>
</span></span><span class=line><span class=cl><span class=n>stime</span> <span class=o>=</span> <span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>sound</span><span class=p>)</span> <span class=o>/</span> <span class=mi>1000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=26-å¤„ç†éŸ³é¢‘æ–‡ä»¶>2.6 å¤„ç†éŸ³é¢‘æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#26-å¤„ç†éŸ³é¢‘æ–‡ä»¶>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s1>&#39;soundfile.wav&#39;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># éŸ³é¢‘å‰5ç§’ï¼Œpydubä¸­æ—¶é—´ä»¥æ¯«ç§’ï¼ˆmsï¼‰ä¸ºå•ä½</span>
</span></span><span class=line><span class=cl><span class=n>audio_begin</span> <span class=o>=</span> <span class=n>sound</span><span class=p>[:</span><span class=mi>5000</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1># éŸ³é¢‘å5ç§’ï¼Œpydubä¸­æ—¶é—´ä»¥æ¯«ç§’ï¼ˆmsï¼‰ä¸ºå•ä½</span>
</span></span><span class=line><span class=cl><span class=n>audio_end</span> <span class=o>=</span> <span class=n>sound</span><span class=p>[</span><span class=o>-</span><span class=mi>5000</span><span class=p>:]</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># æ”¹å˜éŸ³é¢‘å¹…åº¦ï¼Œä»¥åˆ†è´ï¼ˆdBï¼‰ä¸ºå•ä½</span>
</span></span><span class=line><span class=cl><span class=c1># è°ƒé«˜å¹…åº¦</span>
</span></span><span class=line><span class=cl><span class=n>raise_via</span> <span class=o>=</span> <span class=n>sound</span><span class=o>.</span><span class=n>apply_gain</span><span class=p>(</span><span class=o>+</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>raise_via</span> <span class=o>=</span> <span class=n>sound</span> <span class=o>+</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=c1># è°ƒä½éŸ³é‡</span>
</span></span><span class=line><span class=cl><span class=n>lower_via</span> <span class=o>=</span> <span class=n>sound</span><span class=o>.</span><span class=n>apply_gain</span><span class=p>(</span><span class=o>-</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>lower_via</span> <span class=o>=</span> <span class=n>sound</span> <span class=o>-</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># æ·¡å…¥æ·¡å‡ºæ•ˆæœ</span>
</span></span><span class=line><span class=cl><span class=c1># æ·¡å…¥ï¼Œå‚æ•°duration:æŒç»­æ—¶é—´</span>
</span></span><span class=line><span class=cl><span class=n>sound</span><span class=o>.</span><span class=n>fade_in</span><span class=p>(</span><span class=n>duration</span><span class=o>=</span><span class=mi>5000</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># æ·¡å‡ºï¼Œå‚æ•°duration:æŒç»­æ—¶é—´</span>
</span></span><span class=line><span class=cl><span class=n>sound</span><span class=o>.</span><span class=n>fade_out</span><span class=p>(</span><span class=n>duration</span><span class=o>=</span><span class=mi>5000</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># å€’æ”¾éŸ³é¢‘æ–‡ä»¶</span>
</span></span><span class=line><span class=cl><span class=n>newsound</span> <span class=o>=</span> <span class=n>sound</span><span class=o>.</span><span class=n>reverse</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=27-æ’­æ”¾éŸ³é¢‘æ–‡ä»¶>2.7 æ’­æ”¾éŸ³é¢‘æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#27-æ’­æ”¾éŸ³é¢‘æ–‡ä»¶>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydub</span> <span class=kn>import</span> <span class=n>playback</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydub</span> <span class=kn>import</span> <span class=n>AduioSegment</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydub.playback</span> <span class=kn>import</span> <span class=n>play</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AduioSegment</span><span class=o>.</span><span class=n>from_wav</span><span class=p>(</span><span class=s1>&#39;sound.wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># æ’­æ”¾éŸ³é¢‘</span>
</span></span><span class=line><span class=cl><span class=n>play</span><span class=p>(</span><span class=n>sound</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=28-åˆ†å‰²éŸ³é¢‘>2.8 åˆ†å‰²éŸ³é¢‘<a hidden class=anchor aria-hidden=true href=#28-åˆ†å‰²éŸ³é¢‘>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydub</span> <span class=kn>import</span> <span class=n>utils</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydub</span> <span class=kn>import</span> <span class=n>AudioSegment</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydub.utils</span> <span class=kn>import</span> <span class=n>make_chanks</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=n>sound</span> <span class=o>=</span> <span class=n>AduioSegment</span><span class=o>.</span><span class=n>from_wav</span><span class=p>(</span><span class=s1>&#39;sound.wav&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># åˆ†å‰²éŸ³é¢‘, å‚æ•°chunk_length:ä¸€æ®µéŸ³é¢‘å¤šé•¿æ—¶é—´</span>
</span></span><span class=line><span class=cl><span class=n>make_chanks</span><span class=p>(</span><span class=n>sound</span><span class=p>,</span> <span class=n>chunk_length</span><span class=o>=</span><span class=mi>5000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=3-ä½¿ç”¨pydubæ ¹æ®é™éŸ³åˆ†å‰²éŸ³é¢‘>3 ä½¿ç”¨pydubæ ¹æ®é™éŸ³åˆ†å‰²éŸ³é¢‘<a hidden class=anchor aria-hidden=true href=#3-ä½¿ç”¨pydubæ ¹æ®é™éŸ³åˆ†å‰²éŸ³é¢‘>#</a></h2><h3 id=31-é™éŸ³æ£€æµ‹åŸç†>3.1 é™éŸ³æ£€æµ‹åŸç†<a hidden class=anchor aria-hidden=true href=#31-é™éŸ³æ£€æµ‹åŸç†>#</a></h3><p>é™éŸ³æ£€æµ‹åŸç†æ˜¯é€šè¿‡åˆ†æéŸ³é¢‘ä¿¡å·çš„èƒ½é‡ï¼Œåˆ¤æ–­å…¶æ˜¯å¦ä¸ºé™éŸ³çŠ¶æ€ã€‚å…·ä½“çš„åŸç†å¦‚ä¸‹ï¼š</p><p>éŸ³é¢‘ä¿¡å·é€šå¸¸å¯ä»¥ç”¨æ—¶åŸŸæˆ–é¢‘åŸŸæ¥è¡¨ç¤ºã€‚å¯¹äºæ—¶åŸŸè¡¨ç¤ºï¼Œå¯ä»¥å°†éŸ³é¢‘ä¿¡å·åˆ†æˆä¸€æ®µä¸€æ®µçš„å°å—ï¼Œæ¯ä¸ªå°å—ç§°ä¸ºå¸§ã€‚å¯¹äºé¢‘åŸŸè¡¨ç¤ºï¼Œå¯ä»¥å°†éŸ³é¢‘ä¿¡å·å˜æ¢ä¸ºé¢‘è°±å›¾ã€‚</p><p>é™éŸ³çš„ç‰¹ç‚¹æ˜¯ä¿¡å·çš„èƒ½é‡è¾ƒä½ï¼Œé€šå¸¸å¤„äºæ¥è¿‘é›¶çš„æ°´å¹³ã€‚å› æ­¤ï¼Œé™éŸ³æ£€æµ‹å¯ä»¥é€šè¿‡è®¡ç®—æ¯ä¸ªå¸§æˆ–é¢‘è°±å›¾çš„èƒ½é‡æ¥åˆ¤æ–­æ˜¯å¦ä¸ºé™éŸ³ã€‚</p><p>è®¡ç®—èƒ½é‡çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨ç»å¯¹èƒ½é‡æˆ–ç›¸å¯¹èƒ½é‡ã€‚ç»å¯¹èƒ½é‡æ˜¯æŒ‡è®¡ç®—ä¿¡å·çš„å¹³æ–¹å’Œï¼Œå³å°†ä¿¡å·çš„æ¯ä¸ªæ ·æœ¬å–å¹³æ–¹åç›¸åŠ ã€‚ç›¸å¯¹èƒ½é‡æ˜¯æŒ‡è®¡ç®—ä¿¡å·çš„åŠŸç‡è°±å¯†åº¦ï¼Œå³å°†ä¿¡å·çš„åŠŸç‡è°±å¯†åº¦æ±‚å’Œã€‚</p><p>é™éŸ³æ£€æµ‹çš„é˜ˆå€¼æ˜¯æ ¹æ®å®é™…åº”ç”¨æ¥ç¡®å®šçš„ã€‚é€šå¸¸å¯ä»¥æ ¹æ®ç»éªŒè®¾ç½®ä¸€ä¸ªåˆé€‚çš„é˜ˆå€¼ï¼Œå½“å¸§çš„èƒ½é‡æˆ–é¢‘è°±å›¾çš„èƒ½é‡ä½äºé˜ˆå€¼æ—¶ï¼Œè¢«åˆ¤æ–­ä¸ºé™éŸ³ã€‚</p><p>é™éŸ³æ£€æµ‹ä¹Ÿå¯ä»¥ç»“åˆå…¶ä»–ç‰¹å¾è¿›è¡Œåˆ¤æ–­ï¼Œä¾‹å¦‚é›¶äº¤å‰ç‡ã€çŸ­æ—¶è¿‡é›¶ç‡ç­‰ã€‚è¿™äº›ç‰¹å¾å¯ä»¥æä¾›æ›´å‡†ç¡®çš„é™éŸ³æ£€æµ‹ç»“æœã€‚</p><p>é™éŸ³æ£€æµ‹åŸç†æ˜¯é€šè¿‡è®¡ç®—éŸ³é¢‘ä¿¡å·çš„èƒ½é‡æ¥åˆ¤æ–­æ˜¯å¦ä¸ºé™éŸ³çŠ¶æ€ï¼Œé€šå¸¸é€šè¿‡è®¾ç½®ä¸€ä¸ªé˜ˆå€¼æ¥åˆ¤æ–­ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥ç»“åˆå…¶ä»–ç‰¹å¾è¿›è¡Œåˆ¤æ–­ï¼Œæé«˜æ£€æµ‹çš„å‡†ç¡®æ€§ã€‚</p><p>è¯­éŸ³å’Œå™ªå£°çš„åŒºåˆ«å¯ä»¥ä½“ç°åœ¨ä»–ä»¬çš„èƒ½é‡ä¸Šï¼Œè¯­éŸ³æ®µçš„èƒ½é‡æ¯”å™ªå£°æ®µçš„èƒ½é‡å¤§ï¼Œå¦‚æœç¯å¢ƒå™ªå£°å’Œç³»ç»Ÿè¾“å…¥çš„å™ªå£°æ¯”è¾ƒå°ï¼Œåªè¦è®¡ç®—è¾“å…¥ä¿¡å·çš„çŸ­æ—¶èƒ½é‡å°±èƒ½å¤ŸæŠŠè¯­éŸ³æ®µå’Œå™ªå£°èƒŒæ™¯åŒºåˆ†å¼€ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç”¨åŸºäºèƒ½é‡çš„ç®—æ³•æ¥æ£€æµ‹æµŠéŸ³é€šå¸¸æ•ˆæœä¹Ÿæ˜¯æ¯”è¾ƒç†æƒ³çš„ï¼Œå› ä¸ºæµŠéŸ³çš„èƒ½é‡å€¼æ¯”æ¸…éŸ³å¤§å¾—å¤šï¼Œå¯ä»¥åˆ¤æ–­æµŠéŸ³å’Œæ¸…éŸ³ä¹‹é—´è¿‡æ¸¡çš„æ—¶åˆ»ï¼Œä½†å¯¹æ¸…éŸ³æ¥è¯´ï¼Œæ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œå› æ­¤è¿˜éœ€è¦å€ŸåŠ©çŸ­æ—¶è¿‡é›¶ç‡æ¥è¡¨å¾ã€‚</p><p>çŸ­æ—¶èƒ½é‡å¯ä»¥è¿‘ä¼¼ä¸ºäº’è¡¥çš„æƒ…å†µï¼ŒçŸ­æ—¶èƒ½é‡å¤§çš„åœ°æ–¹è¿‡é›¶ç‡å°ï¼ŒçŸ­æ—¶èƒ½é‡å°çš„åœ°æ–¹è¿‡é›¶ç‡è¾ƒå¤§ã€‚</p><p>åŸºäºçŸ­æ—¶èƒ½é‡å’Œè¿‡é›¶ç‡çš„æ£€æµ‹æ–¹æ³• å°½ç®¡åŸºäºçŸ­æ—¶èƒ½é‡å’Œè¿‡é›¶ç‡çš„æ£€æµ‹æ–¹æ³•å„æœ‰å…¶ä¼˜ç¼ºç‚¹ï¼Œä½†æ˜¯è‹¥å°†è¿™ä¸¤ç§åŸºæœ¬æ–¹æ³•ç›¸ç»“åˆèµ·æ¥ä½¿ç”¨ä¹Ÿå¯ä»¥å®ç°å¯¹è¯­éŸ³ä¿¡å·å¯é çš„ç«¯ç‚¹æ£€æµ‹ã€‚æ— å£°æ®µçš„çŸ­æ—¶èƒ½é‡ä¸ºé›¶ï¼Œæ¸…éŸ³æ®µçš„çŸ­æ—¶èƒ½é‡åˆæ¯”æµŠéŸ³æ®µçš„çŸ­æ—¶èƒ½é‡å¤§ï¼Œè€Œåœ¨è¿‡é›¶ç‡æ–¹é¢ï¼Œç†æƒ³çš„æƒ…å†µæ˜¯æ— å£°æ®µçš„è¿‡é›¶ç‡ä¸ºé›¶ï¼ŒæµŠéŸ³æ®µçš„è¿‡é›¶ç‡æ¯”æ¸…éŸ³æ®µçš„è¿‡é›¶ç‡è¦å¤§çš„å¤šï¼Œå‡è®¾æœ‰ä¸€æ®µè¯­éŸ³ï¼Œå¦‚æœæŸéƒ¨åˆ†çŸ­æ—¶èƒ½é‡å’Œè¿‡é›¶ç‡éƒ½ä¸ºé›¶æˆ–è€…ä¸ºå¾ˆå°çš„å€¼ï¼Œå°±å¯ä»¥è®¤ä¸ºè¿™éƒ¨åˆ†ä¸ºæ— å£°æ®µã€‚</p><p>å¦‚æœè¯¥éƒ¨åˆ†è¯­éŸ³çŸ­æ—¶èƒ½é‡å¾ˆå¤§ä½†æ˜¯è¿‡é›¶ç‡å¾ˆå°ï¼Œåˆ™è®¤ä¸ºè¯¥éƒ¨åˆ†è¯­éŸ³ä¸ºæµŠéŸ³æ®µã€‚</p><p>å¦‚æœè¯¥éƒ¨åˆ†çŸ­æ—¶èƒ½é‡å¾ˆå°ä½†æ˜¯è¿‡é›¶ç‡å¾ˆå¤§ï¼Œåˆ™è®¤ä¸ºè¯¥éƒ¨åˆ†è¯­éŸ³ä¸ºæ¸…éŸ³æ®µã€‚</p><p>æ­£å¦‚å‰é¢æåˆ°ï¼Œè¯­éŸ³ä¿¡å·å…·æœ‰çŸ­æ—¶æ€§ï¼Œå› æ­¤åœ¨å¯¹è¯­éŸ³ä¿¡å·è¿›è¡Œåˆ†ææ—¶ï¼Œéœ€è¦å°†è¯­éŸ³ä¿¡å·ä»¥30msä¸ºä¸€æ®µåˆ†ä¸ºè‹¥å¹²å¸§æ¥è¿›è¡Œåˆ†æï¼Œåˆ™ä¸¤å¸§èµ·å§‹ç‚¹ä¹‹é—´çš„é—´éš”ä¸º10msã€‚</p><p>çŸ­æ—¶èƒ½é‡ï¼Œæ— å£°&lt;æµŠéŸ³&lt;æ¸…éŸ³</p><p>è¿‡é›¶ç‡ï¼Œæ— å£°&lt;æ¸…éŸ³&lt;æµŠéŸ³</p><h3 id=32-ä½¿ç”¨pydubè¿›è¡Œé™éŸ³æ£€æµ‹>3.2 ä½¿ç”¨pydubè¿›è¡Œé™éŸ³æ£€æµ‹<a hidden class=anchor aria-hidden=true href=#32-ä½¿ç”¨pydubè¿›è¡Œé™éŸ³æ£€æµ‹>#</a></h3><p>ä»£ç é¦–å…ˆä½¿ç”¨AudioSegmentç±»ä»audio.mp3æ–‡ä»¶ä¸­è¯»å–éŸ³é¢‘æ•°æ®ï¼Œç„¶åè®¾ç½®äº†åˆ†å‰²å‚æ•°min_silence_lenã€silence_threshå’Œkeep_silenceã€‚min_silence_lenæ˜¯æœ€å°é™éŸ³é•¿åº¦ï¼Œsilence_threshæ˜¯é™éŸ³é˜ˆå€¼ï¼Œkeep_silenceæ˜¯ä¿ç•™é™éŸ³é•¿åº¦ã€‚è¿™äº›å‚æ•°çš„å…·ä½“å«ä¹‰å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚æœ€åï¼Œæ ¹æ®åˆ†å‰²å‚æ•°ä½¿ç”¨split_on_silenceå‡½æ•°å¯¹éŸ³é¢‘æ–‡ä»¶è¿›è¡Œåˆ†å‰²ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydub</span> <span class=kn>import</span> <span class=n>AudioSegment</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydub.silence</span> <span class=kn>import</span> <span class=n>split_on_silence</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># è¯»å–éŸ³é¢‘æ–‡ä»¶</span>
</span></span><span class=line><span class=cl><span class=n>audio</span> <span class=o>=</span> <span class=n>AudioSegment</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s2>&#34;D:/dataset/lyb01.wav&#34;</span><span class=p>,</span> <span class=nb>format</span><span class=o>=</span><span class=s2>&#34;wav&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># è®¾ç½®åˆ†å‰²å‚æ•°</span>
</span></span><span class=line><span class=cl><span class=n>min_silence_len</span> <span class=o>=</span> <span class=mi>300</span>  <span class=c1># æœ€å°é™éŸ³é•¿åº¦</span>
</span></span><span class=line><span class=cl><span class=n>silence_thresh</span> <span class=o>=</span> <span class=o>-</span><span class=mi>50</span>  <span class=c1># é™éŸ³é˜ˆå€¼ï¼Œè¶Šå°è¶Šä¸¥æ ¼</span>
</span></span><span class=line><span class=cl><span class=n>keep_silence</span> <span class=o>=</span> <span class=mi>200</span>  <span class=c1># ä¿ç•™é™éŸ³é•¿åº¦</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># åˆ†å‰²éŸ³é¢‘æ–‡ä»¶</span>
</span></span><span class=line><span class=cl><span class=n>segments</span> <span class=o>=</span> <span class=n>split_on_silence</span><span class=p>(</span><span class=n>audio</span><span class=p>,</span> <span class=n>min_silence_len</span><span class=o>=</span><span class=n>min_silence_len</span><span class=p>,</span> <span class=n>silence_thresh</span><span class=o>=</span><span class=n>silence_thresh</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>keep_silence</span><span class=o>=</span><span class=n>keep_silence</span><span class=p>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>idx</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>segments</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>    <span class=n>segments</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span><span class=o>.</span><span class=n>export</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;wav_</span><span class=si>{</span><span class=n>idx</span><span class=si>:</span><span class=s1>04</span><span class=si>}</span><span class=s1>.wav&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=4-æ€»ç»“>4 æ€»ç»“<a hidden class=anchor aria-hidden=true href=#4-æ€»ç»“>#</a></h2><p>é€šè¿‡pydubï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡ŒéŸ³é¢‘ç¼–è§£ç ã€æ··éŸ³ã€é‡é‡‡æ ·ç­‰æ“ä½œï¼Œè¿›ä¸€æ­¥æ‰©å±•äº†pydubçš„åº”ç”¨åœºæ™¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è¿›è¡ŒéŸ³é¢‘æ··éŸ³æ“ä½œæ—¶ï¼Œéœ€è¦ä¿è¯ä¸¤ä¸ªéŸ³é¢‘æ–‡ä»¶çš„é‡‡æ ·ç‡ã€é‡‡æ ·ä½æ•°å’Œå£°é“æ•°ç›¸åŒã€‚</p><p>pydubä¼˜ç‚¹ï¼š</p><p>è½»é‡çº§ï¼špydubæ˜¯ä¸€ä¸ªè½»é‡çº§çš„éŸ³é¢‘å¤„ç†åº“ï¼Œå®‰è£…æ–¹ä¾¿ï¼Œä½¿ç”¨ç®€å•ã€‚</p><p>åŠŸèƒ½ä¸°å¯Œï¼špydubæä¾›äº†ä¸°å¯Œçš„éŸ³é¢‘å¤„ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬åˆ‡å‰²ã€åˆå¹¶ã€è½¬æ¢ã€è°ƒæ•´éŸ³é‡ã€ç¼–è§£ç ã€æ··éŸ³ã€é‡é‡‡æ ·ç­‰ã€‚</p><p>åº”ç”¨å¹¿æ³›ï¼špydubçš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼ŒåŒ…æ‹¬éŸ³é¢‘å¤„ç†ã€é“ƒå£°åˆ¶ä½œã€éŸ³é¢‘æ ¼å¼è½¬æ¢ã€è¯­éŸ³è¯†åˆ«ç­‰ç­‰ã€‚</p><p>pydubç¼ºç‚¹ï¼š</p><p>å¯¹æ ¼å¼çš„å…¼å®¹æ€§æœ‰é™ï¼špydubå¯¹éŸ³é¢‘æ ¼å¼çš„å…¼å®¹æ€§æœ‰é™ï¼Œä¸æ”¯æŒæ‰€æœ‰çš„éŸ³é¢‘æ ¼å¼ï¼Œéœ€è¦å…ˆå°†éŸ³é¢‘è½¬æ¢ä¸ºæ”¯æŒçš„æ ¼å¼åæ‰èƒ½è¿›è¡Œå¤„ç†ã€‚</p><p>æ€§èƒ½ä¸€èˆ¬ï¼špydubåœ¨å¤„ç†å¤§æ–‡ä»¶æ—¶ï¼Œæ€§èƒ½å¯èƒ½ä¼šæ¯”è¾ƒä¸€èˆ¬ï¼Œéœ€è¦è€—è´¹ä¸€å®šçš„æ—¶é—´å’Œè®¡ç®—èµ„æºã€‚
ä¸æ”¯æŒæµå¼å¤„ç†ï¼špydubä¸æ”¯æŒæµå¼å¤„ç†ï¼Œéœ€è¦å°†æ•´ä¸ªéŸ³é¢‘æ–‡ä»¶è¯»å–åˆ°å†…å­˜ä¸­ï¼Œå¯¼è‡´å†…å­˜å ç”¨è¾ƒå¤§ã€‚</p><p>pydubæ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œã€åº”ç”¨å¹¿æ³›çš„éŸ³é¢‘å¤„ç†åº“ã€‚åœ¨ä½¿ç”¨pydubæ—¶ï¼Œéœ€è¦æ³¨æ„éŸ³é¢‘æ ¼å¼çš„å…¼å®¹æ€§é—®é¢˜ï¼Œå¹¶æ³¨æ„å¤„ç†å¤§æ–‡ä»¶æ—¶çš„æ€§èƒ½å’Œå†…å­˜å ç”¨ã€‚å¦‚æœéœ€è¦å¤„ç†æ›´å¤æ‚çš„éŸ³é¢‘ä»»åŠ¡ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å…¶ä»–æ›´ä¸“ä¸šçš„éŸ³é¢‘å¤„ç†åº“ã€‚</p><h1 id=moviepyå…¥é—¨æ•™ç¨‹>MoviePyå…¥é—¨æ•™ç¨‹<a hidden class=anchor aria-hidden=true href=#moviepyå…¥é—¨æ•™ç¨‹>#</a></h1><p>Video editing with Python</p><p><a href=https://zulko.github.io/moviepy/ title=https://zulko.github.io/moviepy/>zulko.github.io/moviepy/</a></p><p>MoviePy (online documentationÂ <a href=https://zulko.github.io/moviepy/>here</a>) is a Python library for video editing: cuts, concatenations, title insertions, video compositing (a.k.a. non-linear editing), video processing, and creation of custom effects.</p><p>MoviePy can read and write all the most common audio and video formats, including GIF, and runs on Windows/Mac/Linux, with Python 3.9+.</p><h2 id=example>Example<a hidden class=anchor aria-hidden=true href=#example>#</a></h2><p>In this example we open a video file, select the subclip between 10 and 20 seconds, add a title at the center of the screen, and write the result to a new file:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>moviepy</span> <span class=kn>import</span> <span class=n>VideoFileClip</span><span class=p>,</span> <span class=n>TextClip</span><span class=p>,</span> <span class=n>CompositeVideoClip</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Load file example.mp4 and keep only the subclip from 00:00:10 to 00:00:20</span>
</span></span><span class=line><span class=cl><span class=c1># Reduce the audio volume to 80% of its original volume</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>clip</span> <span class=o>=</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>VideoFileClip</span><span class=p>(</span><span class=s2>&#34;long_examples/example2.mp4&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>subclipped</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=n>with_volume_scaled</span><span class=p>(</span><span class=mf>0.8</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Generate a text clip. You can customize the font, color, etc.</span>
</span></span><span class=line><span class=cl><span class=n>txt_clip</span> <span class=o>=</span> <span class=n>TextClip</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>font</span><span class=o>=</span><span class=s2>&#34;Arial.ttf&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>text</span><span class=o>=</span><span class=s2>&#34;Hello there!&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>font_size</span><span class=o>=</span><span class=mi>70</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>color</span><span class=o>=</span><span class=s1>&#39;white&#39;</span>
</span></span><span class=line><span class=cl><span class=p>)</span><span class=o>.</span><span class=n>with_duration</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=o>.</span><span class=n>with_position</span><span class=p>(</span><span class=s1>&#39;center&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Overlay the text clip on the first video clip</span>
</span></span><span class=line><span class=cl><span class=n>final_video</span> <span class=o>=</span> <span class=n>CompositeVideoClip</span><span class=p>([</span><span class=n>clip</span><span class=p>,</span> <span class=n>txt_clip</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>final_video</span><span class=o>.</span><span class=n>write_videofile</span><span class=p>(</span><span class=s2>&#34;result.mp4&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=how-moviepy-works>How MoviePy works<a hidden class=anchor aria-hidden=true href=#how-moviepy-works>#</a></h2><p>Under the hood, MoviePy imports media (video frames, images, sounds) and converts them into Python objects (numpy arrays) so that every pixel becomes accessible, and video or audio effects can be defined in just a few lines of code (see theÂ <a href=https://github.com/Zulko/moviepy/blob/master>built-in effects</a>Â for examples).</p><p>The library also provides ways to mix clips together (concatenations, playing clips side by side or on top of each other with transparency, etc.). The final clip is then encoded back into mp4/webm/gif/etc.</p><p>This makes MoviePy very flexible and approachable, albeit slower than using ffmpeg directly due to heavier data import/export operations.</p><h2 id=installation>Installation<a hidden class=anchor aria-hidden=true href=#installation>#</a></h2><p>Intall moviepy withÂ <code>pip install moviepy</code>. For additional installation options, such as a custom FFMPEG or for previewing, seeÂ <a href=https://zulko.github.io/moviepy/getting_started/install.html>this section</a>. For development, clone that repo locally and install withÂ <code>pip install -e .</code></p><h2 id=documentation>Documentation<a hidden class=anchor aria-hidden=true href=#documentation>#</a></h2><p>The online documentation (<a href=https://zulko.github.io/moviepy/>here</a>) is automatically built at every push to the master branch. To build the documentation locally, install the extra dependencies viaÂ <code>pip install moviepy[doc]</code>, then go to theÂ <code>docs</code>Â folder and runÂ <code>make html</code>.</p><h2 id=moviepyä¸€ä¸ªè¶…é…·çš„-python-åº“>moviepyï¼Œä¸€ä¸ªè¶…é…·çš„ Python åº“ï¼<a hidden class=anchor aria-hidden=true href=#moviepyä¸€ä¸ªè¶…é…·çš„-python-åº“>#</a></h2><p><a href=https://zhuanlan.zhihu.com/p/680555324>æ–‡ç« æ¥æº</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://rosefinch-midsummer.github.io/zh/tags/python/>Python</a></li></ul><nav class=paginav><a class=prev href=https://rosefinch-midsummer.github.io/zh/posts/book/%E7%8B%AC%E7%94%9F%E5%AD%90%E5%A5%B3%E7%A5%9E%E8%AF%9D/><span class=title>Â« ä¸Šä¸€é </span><br><span>ã€Šç‹¬ç”Ÿå­å¥³ç¥è¯ã€‹</span>
</a><a class=next href=https://rosefinch-midsummer.github.io/zh/posts/book/%E9%9D%92%E6%A5%BC%E9%9F%B5%E8%AF%AD/><span class=title>ä¸‹ä¸€é  Â»</span><br><span>ã€Šé’æ¥¼éŸµè¯­ã€‹</span></a></nav></footer><div><div class=pagination__title><span class=pagination__title-h style=font-size:20px>è¯„è®º</span><br></div><div id=tcomment></div><script src=https://utteranc.es/client.js repo=Rosefinch-Midsummer/comments_of_blog issue-term=title theme=github-light crossorigin=anonymous async></script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.body.className.includes("dark")?"github-light":"photon-dark",t={type:"set-theme",theme:e},n=document.querySelector(".utterances-frame");n.contentWindow.postMessage(t,"https://utteranc.es")})</script></div></article></main><footer class=footer><span>&copy; 2026 <a href=https://rosefinch-midsummer.github.io/zh/>å¤©æ¼¢å¸åœ‹å¾©èˆˆéŒ„</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>æœ¬ç«™æ€»è®¿é—®é‡<span id=busuanzi_value_site_pv></span>æ¬¡
</span><span id=busuanzi_container_site_uv>æœ¬ç«™è®¿å®¢æ•°<span id=busuanzi_value_site_uv></span>äººæ¬¡</span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="è¤‡è£½";function s(){t.innerHTML="å·²è¤‡è£½ï¼",setTimeout(()=>{t.innerHTML="è¤‡è£½"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>